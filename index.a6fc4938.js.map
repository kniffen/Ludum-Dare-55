{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-9593d57c89f3b5ff.js","src/main.ts","src/graphics/index.ts","src/tiles/tileset.ts","node_modules/@parcel/runtime-js/lib/runtime-8b9c9fd2538467c7.js","src/player/index.ts","src/demon/demon.ts","src/demon/drawDemon.ts","node_modules/@parcel/runtime-js/lib/runtime-3567835b0b9f8318.js","src/demon/updateDemon.ts","node_modules/@parcel/runtime-js/lib/runtime-788cc37567ec8138.js","src/player/draw.ts","node_modules/@parcel/runtime-js/lib/runtime-02fa0b0a7150e42a.js","src/player/updatePlayer.ts","src/map/index.ts","src/rooms/index.ts","src/rooms/layouts/index.ts","src/rooms/layouts/main.ts","src/rooms/layouts/empty.ts","src/rooms/utils/drawRoom.ts","src/tiles/drawTile.ts","src/rooms/utils/parseRoomLayout.ts","src/tiles/types.ts","node_modules/@parcel/runtime-js/lib/runtime-ca40fa03cfefa43d.js","src/controls/index.ts","src/candles/index.ts","src/candles/drawCandle.ts","src/candles/updateCandle.ts","node_modules/@parcel/runtime-js/lib/runtime-ee219c1e9c0d9e54.js","src/tiles/updateTiles.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireaca8\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireaca8\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $c98f5a5326e20c95$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"aT88m\",\"index.a6fc4938.js\",\"6xSCA\",\"tileset.d92f4525.png\",\"h0uMK\",\"demon.07abaa9f.png\",\"kolwG\",\"hit.a1098d96.mp3\",\"3dBfA\",\"player.429cac3e.png\",\"fAPus\",\"bling.5ae92f5b.mp3\",\"2pqM0\",\"pickup.b7a52900.mp3\"]'));\n\nconst $82cbb14ddd640a4b$export$5c452ff88e35e47d = new Image();\nconst $82cbb14ddd640a4b$export$dea52d477af4398a = 8;\nconst $82cbb14ddd640a4b$export$53b3c91859018cd4 = 128 / $82cbb14ddd640a4b$export$dea52d477af4398a;\nconst $82cbb14ddd640a4b$export$2dd197b55cf13440 = 128 / $82cbb14ddd640a4b$export$dea52d477af4398a;\nvar $3d2e95724a29d7a0$exports = {};\n$3d2e95724a29d7a0$exports = new URL(\"tileset.d92f4525.png\", import.meta.url).toString();\n\n\nconst $82cbb14ddd640a4b$var$imageUrl = new URL($3d2e95724a29d7a0$exports);\n$82cbb14ddd640a4b$export$5c452ff88e35e47d.src = $82cbb14ddd640a4b$var$imageUrl.toString();\n\n\nconst $b538644da75a1e4a$var$canvas = document.getElementById(\"canvas\");\nif (!$b538644da75a1e4a$var$canvas || !($b538644da75a1e4a$var$canvas instanceof HTMLCanvasElement)) throw new Error(\"Missing canvas\");\nconst $b538644da75a1e4a$export$fae5d17304677194 = 8;\nconst $b538644da75a1e4a$export$6a6dcc7e725abed4 = 15;\nconst $b538644da75a1e4a$export$9ecce7f637e2cef2 = 11;\n$b538644da75a1e4a$var$canvas.width = (0, $82cbb14ddd640a4b$export$dea52d477af4398a) * $b538644da75a1e4a$export$6a6dcc7e725abed4 * $b538644da75a1e4a$export$fae5d17304677194;\n$b538644da75a1e4a$var$canvas.height = (0, $82cbb14ddd640a4b$export$dea52d477af4398a) * $b538644da75a1e4a$export$9ecce7f637e2cef2 * $b538644da75a1e4a$export$fae5d17304677194;\nconst $b538644da75a1e4a$var$ctx = $b538644da75a1e4a$var$canvas.getContext(\"2d\");\nif (!$b538644da75a1e4a$var$ctx) throw new Error(\"Missing context\");\n// @ts-ignore\n$b538644da75a1e4a$var$ctx.webkitImageSmoothingEnabled = false;\n// @ts-ignore\n$b538644da75a1e4a$var$ctx.mozImageSmoothingEnabled = false;\n$b538644da75a1e4a$var$ctx.imageSmoothingEnabled = false;\n$b538644da75a1e4a$var$ctx.scale($b538644da75a1e4a$export$fae5d17304677194, $b538644da75a1e4a$export$fae5d17304677194);\nconst $b538644da75a1e4a$export$671da467341b3aba = ()=>({\n        canvas: $b538644da75a1e4a$var$canvas,\n        ctx: $b538644da75a1e4a$var$ctx\n    });\nconst $b538644da75a1e4a$export$a1c066623ac679d3 = ()=>{\n    $b538644da75a1e4a$var$ctx.clearRect(0, 0, $b538644da75a1e4a$var$canvas.width, $b538644da75a1e4a$var$canvas.height);\n    $b538644da75a1e4a$var$ctx.moveTo(0, 0);\n    $b538644da75a1e4a$var$ctx.fillStyle = \"#191B1A\";\n    $b538644da75a1e4a$var$ctx.beginPath();\n    $b538644da75a1e4a$var$ctx.rect(0, 0, $b538644da75a1e4a$var$canvas.width, $b538644da75a1e4a$var$canvas.height);\n    $b538644da75a1e4a$var$ctx.fill();\n};\n\n\n\nconst { ctx: $56639639c2c4b13a$var$ctx } = (0, $b538644da75a1e4a$export$671da467341b3aba)();\nconst $56639639c2c4b13a$export$5c452ff88e35e47d = new Image();\nconst $56639639c2c4b13a$export$dea52d477af4398a = 24;\nconst $56639639c2c4b13a$var$frames = 5;\nvar $f95ebd5b198100ce$exports = {};\n$f95ebd5b198100ce$exports = new URL(\"demon.07abaa9f.png\", import.meta.url).toString();\n\n\nconst $56639639c2c4b13a$var$imageUrl = new URL($f95ebd5b198100ce$exports);\n$56639639c2c4b13a$export$5c452ff88e35e47d.src = $56639639c2c4b13a$var$imageUrl.toString();\nconst $56639639c2c4b13a$var$frameLength = 20;\nlet $56639639c2c4b13a$var$acc = 0;\nlet $56639639c2c4b13a$var$frame = 0;\nconst $56639639c2c4b13a$export$853d2a5c417256da = (demon)=>{\n    if (!demon.isActive) return;\n    $56639639c2c4b13a$var$acc++;\n    if ($56639639c2c4b13a$var$acc >= $56639639c2c4b13a$var$frameLength) {\n        $56639639c2c4b13a$var$frame++;\n        $56639639c2c4b13a$var$acc = 0;\n    }\n    if ($56639639c2c4b13a$var$frame >= $56639639c2c4b13a$var$frames) $56639639c2c4b13a$var$frame = 0;\n    const column = Math.floor($56639639c2c4b13a$var$frame % $56639639c2c4b13a$var$frames);\n    const row = Math.floor($56639639c2c4b13a$var$frame / $56639639c2c4b13a$var$frames);\n    const xOffset = Math.floor(column * $56639639c2c4b13a$export$dea52d477af4398a);\n    const yOffset = Math.round(row * $56639639c2c4b13a$export$dea52d477af4398a);\n    const x = demon.x - demon.w * 0.5;\n    const y = demon.y - demon.h * 0.5;\n    $56639639c2c4b13a$var$ctx.drawImage($56639639c2c4b13a$export$5c452ff88e35e47d, xOffset, yOffset, $56639639c2c4b13a$export$dea52d477af4398a, $56639639c2c4b13a$export$dea52d477af4398a, x, y, demon.w, demon.h);\n    $56639639c2c4b13a$var$drawHealthBar(demon);\n    if (demon.debug) {\n        $56639639c2c4b13a$var$ctx.strokeStyle = \"#FFFFFF\";\n        $56639639c2c4b13a$var$ctx.lineWidth = 1 / 8;\n        $56639639c2c4b13a$var$ctx.beginPath();\n        $56639639c2c4b13a$var$ctx.rect(x, y, demon.w, demon.h);\n        $56639639c2c4b13a$var$ctx.stroke();\n        $56639639c2c4b13a$var$ctx.beginPath();\n        $56639639c2c4b13a$var$ctx.moveTo(x, y);\n        $56639639c2c4b13a$var$ctx.lineTo(x + demon.w, y + demon.h);\n        $56639639c2c4b13a$var$ctx.stroke();\n        $56639639c2c4b13a$var$ctx.beginPath();\n        $56639639c2c4b13a$var$ctx.moveTo(x + demon.w, y);\n        $56639639c2c4b13a$var$ctx.lineTo(x, y + demon.h);\n        $56639639c2c4b13a$var$ctx.stroke();\n    }\n};\nconst $56639639c2c4b13a$var$drawHealthBar = (demon)=>{\n    const x = 1;\n    const y = 1;\n    const w = 50;\n    const h = 5;\n    const margin = 0.5;\n    // Health bar\n    $56639639c2c4b13a$var$ctx.beginPath();\n    $56639639c2c4b13a$var$ctx.fillStyle = \"#191b1a\";\n    $56639639c2c4b13a$var$ctx.rect(x, y, w, h);\n    $56639639c2c4b13a$var$ctx.fill();\n    $56639639c2c4b13a$var$ctx.beginPath();\n    $56639639c2c4b13a$var$ctx.fillStyle = \"#294257\";\n    $56639639c2c4b13a$var$ctx.rect(x + margin, y + margin, w - margin * 2, h - margin * 2);\n    $56639639c2c4b13a$var$ctx.fill();\n    $56639639c2c4b13a$var$ctx.beginPath();\n    $56639639c2c4b13a$var$ctx.fillStyle = \"#99c9b3\";\n    $56639639c2c4b13a$var$ctx.rect(x + margin, y + margin, (w - margin * 2) * demon.health, h - margin * 2);\n    $56639639c2c4b13a$var$ctx.fill();\n};\n\n\n\nconst $472cf4e5fdf70e6f$var$DEMON_MAX_VEL = 15;\nconst $472cf4e5fdf70e6f$export$848a8485c85036a9 = (demon, dt)=>{\n    if (!demon.isActive) return;\n    demon.vel.x = demon.x < (0, $fda0042d7ace4273$export$615455393ee443ca).x ? $472cf4e5fdf70e6f$var$DEMON_MAX_VEL : -$472cf4e5fdf70e6f$var$DEMON_MAX_VEL;\n    demon.vel.y = demon.y < (0, $fda0042d7ace4273$export$615455393ee443ca).y ? $472cf4e5fdf70e6f$var$DEMON_MAX_VEL : -$472cf4e5fdf70e6f$var$DEMON_MAX_VEL;\n    demon.x += demon.vel.x * dt;\n    demon.y += demon.vel.y * dt;\n};\n\n\nvar $4e7191e2caed83b6$exports = {};\n$4e7191e2caed83b6$exports = new URL(\"hit.a1098d96.mp3\", import.meta.url).toString();\n\n\nconst $f2635be855952ad7$var$hitURL = new URL($4e7191e2caed83b6$exports);\nconst $f2635be855952ad7$var$hit = new Audio($f2635be855952ad7$var$hitURL.toString());\n$f2635be855952ad7$var$hit.load();\nconst $f2635be855952ad7$export$f1fd645118ed8be8 = {\n    x: 70,\n    y: 40,\n    vel: {\n        x: 0,\n        y: 0\n    },\n    w: 24,\n    h: 24,\n    health: 1,\n    debug: false,\n    isActive: false,\n    update: (dt)=>(0, $472cf4e5fdf70e6f$export$848a8485c85036a9)($f2635be855952ad7$export$f1fd645118ed8be8, dt),\n    draw: ()=>(0, $56639639c2c4b13a$export$853d2a5c417256da)($f2635be855952ad7$export$f1fd645118ed8be8),\n    hit: ()=>{\n        $f2635be855952ad7$export$f1fd645118ed8be8.health -= 0.01;\n        $f2635be855952ad7$var$hit.play();\n        if ($f2635be855952ad7$export$f1fd645118ed8be8.health <= 0) {\n            alert(\"Game over!\");\n            $f2635be855952ad7$export$f1fd645118ed8be8.health = 1;\n            $f2635be855952ad7$export$f1fd645118ed8be8.isActive = false;\n        }\n    }\n};\n\n\n\nconst { ctx: $497b2d40f0cf2220$var$ctx } = (0, $b538644da75a1e4a$export$671da467341b3aba)();\nconst $497b2d40f0cf2220$export$5c452ff88e35e47d = new Image();\nconst $497b2d40f0cf2220$export$dea52d477af4398a = 8;\nconst $497b2d40f0cf2220$var$columns = 64 / $497b2d40f0cf2220$export$dea52d477af4398a;\nvar $d3449b3d5720187b$exports = {};\n$d3449b3d5720187b$exports = new URL(\"player.429cac3e.png\", import.meta.url).toString();\n\n\nconst $497b2d40f0cf2220$var$imageUrl = new URL($d3449b3d5720187b$exports);\n$497b2d40f0cf2220$export$5c452ff88e35e47d.src = $497b2d40f0cf2220$var$imageUrl.toString();\nconst $497b2d40f0cf2220$var$frameLength = 30;\nlet $497b2d40f0cf2220$var$acc = 0;\nlet $497b2d40f0cf2220$var$frameIndex = 0;\nconst $497b2d40f0cf2220$export$941190eab9b1306e = (player, dt)=>{\n    $497b2d40f0cf2220$var$acc++;\n    if ($497b2d40f0cf2220$var$acc >= $497b2d40f0cf2220$var$frameLength) {\n        $497b2d40f0cf2220$var$frameIndex++;\n        $497b2d40f0cf2220$var$acc = 0;\n    }\n    if ($497b2d40f0cf2220$var$frameIndex > 2) $497b2d40f0cf2220$var$frameIndex = 0;\n    const column = Math.floor($497b2d40f0cf2220$var$frameIndex % $497b2d40f0cf2220$var$columns);\n    const row = Math.floor($497b2d40f0cf2220$var$frameIndex / $497b2d40f0cf2220$var$columns);\n    const xOffset = Math.floor(column * $497b2d40f0cf2220$export$dea52d477af4398a);\n    const yOffset = Math.round(row * $497b2d40f0cf2220$export$dea52d477af4398a);\n    const x = player.x - player.w * 0.5;\n    const y = player.y - player.h * 0.5;\n    $497b2d40f0cf2220$var$ctx.drawImage($497b2d40f0cf2220$export$5c452ff88e35e47d, xOffset, yOffset, $497b2d40f0cf2220$export$dea52d477af4398a, $497b2d40f0cf2220$export$dea52d477af4398a, x, y, $497b2d40f0cf2220$export$dea52d477af4398a, $497b2d40f0cf2220$export$dea52d477af4398a);\n    if (player.debug) {\n        $497b2d40f0cf2220$var$ctx.strokeStyle = \"#E00000\";\n        $497b2d40f0cf2220$var$ctx.lineWidth = 0.25;\n        $497b2d40f0cf2220$var$ctx.fillStyle = \"#FFFFFF\";\n        $497b2d40f0cf2220$var$ctx.beginPath();\n        $497b2d40f0cf2220$var$ctx.rect(x, y, player.w, player.h);\n        $497b2d40f0cf2220$var$ctx.stroke();\n    }\n};\nconst $497b2d40f0cf2220$export$c0fc52b0bcb1936a = (projectile, dt)=>{\n    if (!projectile.isActive) return;\n    $497b2d40f0cf2220$var$ctx.fillStyle = \"#99c9b3\";\n    $497b2d40f0cf2220$var$ctx.beginPath();\n    $497b2d40f0cf2220$var$ctx.arc(projectile.x, projectile.y, projectile.r, 0, 2 * Math.PI);\n    $497b2d40f0cf2220$var$ctx.fill();\n};\n\n\n\n\nvar $ddf07b7a7e40b7af$export$24193575da0c3ef5;\n(function(ROOM_TYPE) {\n    ROOM_TYPE[ROOM_TYPE[\"EMPTY\"] = 0] = \"EMPTY\";\n    ROOM_TYPE[ROOM_TYPE[\"MAIN\"] = 1] = \"MAIN\";\n    ROOM_TYPE[ROOM_TYPE[\"CANDLE_ROOM_1\"] = 2] = \"CANDLE_ROOM_1\";\n    ROOM_TYPE[ROOM_TYPE[\"CANDLE_ROOM_2\"] = 3] = \"CANDLE_ROOM_2\";\n    ROOM_TYPE[ROOM_TYPE[\"CANDLE_ROOM_3\"] = 4] = \"CANDLE_ROOM_3\";\n    ROOM_TYPE[ROOM_TYPE[\"CANDLE_ROOM_4\"] = 5] = \"CANDLE_ROOM_4\";\n    ROOM_TYPE[ROOM_TYPE[\"CANDLE_ROOM_5\"] = 6] = \"CANDLE_ROOM_5\";\n})($ddf07b7a7e40b7af$export$24193575da0c3ef5 || ($ddf07b7a7e40b7af$export$24193575da0c3ef5 = {}));\n\n\n\nconst $93a8f9923f89eb07$var$layout = [\n    \"Q#############E\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000012300000R\",\n    \"L0000045600000R\",\n    \"L0000078900000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"TBBBBBBBBBBBBBY\"\n];\nconst $93a8f9923f89eb07$export$f22da7240b7add18 = $93a8f9923f89eb07$var$layout.join(\"\\n\");\n\n\nconst $a6554fe5ae9b6ad3$var$layout = [\n    \"Q#############E\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"L0000000000000R\",\n    \"TBBBBBBBBBBBBBY\"\n];\nconst $a6554fe5ae9b6ad3$export$6e22c362a0406a2c = $a6554fe5ae9b6ad3$var$layout.join(\"\\n\");\n\n\nconst $5807aec6125fc5b3$export$1ecca0613f5e56d2 = new Map([\n    [\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).MAIN,\n        (0, $93a8f9923f89eb07$export$f22da7240b7add18)\n    ],\n    [\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY,\n        (0, $a6554fe5ae9b6ad3$export$6e22c362a0406a2c)\n    ]\n]);\n\n\n\n\nconst { ctx: $3eb093eb1af09297$var$ctx } = (0, $b538644da75a1e4a$export$671da467341b3aba)();\nconst $3eb093eb1af09297$export$5ed0c7ace38c6286 = (tile)=>{\n    const index = tile.type.graphicIndexes[tile.type.currentFrame];\n    const column = Math.floor(index % (0, $82cbb14ddd640a4b$export$53b3c91859018cd4));\n    const row = Math.floor(index / (0, $82cbb14ddd640a4b$export$53b3c91859018cd4));\n    const xOffset = column * (0, $82cbb14ddd640a4b$export$dea52d477af4398a);\n    const yOffset = row * (0, $82cbb14ddd640a4b$export$dea52d477af4398a);\n    const x = tile.x * (0, $82cbb14ddd640a4b$export$dea52d477af4398a);\n    const y = tile.y * (0, $82cbb14ddd640a4b$export$dea52d477af4398a);\n    $3eb093eb1af09297$var$ctx.drawImage((0, $82cbb14ddd640a4b$export$5c452ff88e35e47d), xOffset, yOffset, (0, $82cbb14ddd640a4b$export$dea52d477af4398a), (0, $82cbb14ddd640a4b$export$dea52d477af4398a), x, y, (0, $82cbb14ddd640a4b$export$dea52d477af4398a), (0, $82cbb14ddd640a4b$export$dea52d477af4398a));\n    if (tile.debug) {\n        $3eb093eb1af09297$var$ctx.strokeStyle = \"#FFFFFF\";\n        $3eb093eb1af09297$var$ctx.lineWidth = 1 / 8;\n        $3eb093eb1af09297$var$ctx.beginPath();\n        $3eb093eb1af09297$var$ctx.rect(x, y, (0, $82cbb14ddd640a4b$export$dea52d477af4398a), (0, $82cbb14ddd640a4b$export$dea52d477af4398a));\n        $3eb093eb1af09297$var$ctx.stroke();\n    }\n};\n\n\nconst $7ddd36fe8f2e1a51$export$7609c20295700ccc = (tiles)=>{\n    tiles.forEach((0, $3eb093eb1af09297$export$5ed0c7ace38c6286));\n};\n\n\n\n\nconst $c522274b58f2dbd7$var$baseTile = {\n    isSolid: false,\n    isAnimated: false,\n    isInteractive: false,\n    acc: 0,\n    currentFrame: 0,\n    frameDuration: 0,\n    graphicIndexes: [\n        0\n    ]\n};\nconst $c522274b58f2dbd7$export$723aa6ff9f95b23e = new Map();\nconst $c522274b58f2dbd7$export$5a156de1a5d2f922 = {\n    air: {\n        ...$c522274b58f2dbd7$var$baseTile\n    },\n    ground: {\n        ...$c522274b58f2dbd7$var$baseTile,\n        graphicIndexes: [\n            (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 2 + 2\n        ]\n    },\n    wall: {\n        topLeft: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                1\n            ]\n        },\n        top: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                2\n            ]\n        },\n        topRight: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                5\n            ]\n        },\n        left: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 1 + 1\n            ]\n        },\n        right: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 1 + 5\n            ]\n        },\n        bottomLeft: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 4 + 1\n            ]\n        },\n        bottom: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 4 + 2\n            ]\n        },\n        bottomRight: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isSolid: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 4 + 5\n            ]\n        }\n    },\n    gateway: {\n        north: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isInteractive: true,\n            graphicIndexes: [\n                3\n            ]\n        },\n        east: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isInteractive: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 2 + 5\n            ]\n        },\n        south: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isInteractive: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 4 + 3\n            ]\n        },\n        west: {\n            ...$c522274b58f2dbd7$var$baseTile,\n            isInteractive: true,\n            graphicIndexes: [\n                (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 2 + 1\n            ]\n        }\n    },\n    candle: {\n        ...$c522274b58f2dbd7$var$baseTile,\n        isAnimated: true,\n        isInteractive: true,\n        acc: 0,\n        currentFrame: 0,\n        frameDuration: 30,\n        graphicIndexes: [\n            9,\n            10,\n            11,\n            12\n        ]\n    }\n};\n// General\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\" \", $c522274b58f2dbd7$export$5a156de1a5d2f922.air);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"0\", $c522274b58f2dbd7$export$5a156de1a5d2f922.ground);\n// Walls\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"Q\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.topLeft);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"#\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.top);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"E\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.topRight);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"R\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.right);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"L\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.left);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"T\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.bottomLeft);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"B\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.bottom);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"Y\", $c522274b58f2dbd7$export$5a156de1a5d2f922.wall.bottomRight);\n// Gateways\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"H\", $c522274b58f2dbd7$export$5a156de1a5d2f922.gateway.north);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"J\", $c522274b58f2dbd7$export$5a156de1a5d2f922.gateway.east);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"N\", $c522274b58f2dbd7$export$5a156de1a5d2f922.gateway.south);\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"M\", $c522274b58f2dbd7$export$5a156de1a5d2f922.gateway.west);\n// Candle\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"C\", $c522274b58f2dbd7$export$5a156de1a5d2f922.candle);\n// Alter tiles\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"1\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 5\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"2\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 5 + 1\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"3\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 5 + 2\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"4\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 6\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"5\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 6 + 1\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"6\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 6 + 2\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"7\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 7\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"8\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 7 + 1\n    ]\n});\n$c522274b58f2dbd7$export$723aa6ff9f95b23e.set(\"9\", {\n    ...$c522274b58f2dbd7$var$baseTile,\n    graphicIndexes: [\n        (0, $82cbb14ddd640a4b$export$53b3c91859018cd4) * 7 + 2\n    ]\n});\n\n\nvar $098e597b73ffd03e$export$9f0347034b4ca000;\n(function(GATEWAY_DIRECTION) {\n    GATEWAY_DIRECTION[GATEWAY_DIRECTION[\"NORTH\"] = 0] = \"NORTH\";\n    GATEWAY_DIRECTION[GATEWAY_DIRECTION[\"EAST\"] = 1] = \"EAST\";\n    GATEWAY_DIRECTION[GATEWAY_DIRECTION[\"SOUTH\"] = 2] = \"SOUTH\";\n    GATEWAY_DIRECTION[GATEWAY_DIRECTION[\"WEST\"] = 3] = \"WEST\";\n})($098e597b73ffd03e$export$9f0347034b4ca000 || ($098e597b73ffd03e$export$9f0347034b4ca000 = {}));\nconst $098e597b73ffd03e$export$bffedaedfad11873 = (input, gateways)=>{\n    const arr = input.split(\"\\n\").map((line)=>line.split(\"\"));\n    const tiles = [];\n    for(let y = 0; y < arr.length; y++){\n        const row = arr[y];\n        for(let x = 0; x < row.length; x++){\n            const char = row[x];\n            const tile = {\n                x: x,\n                y: y,\n                debug: false,\n                type: (0, $c522274b58f2dbd7$export$723aa6ff9f95b23e).get(char) || (0, $c522274b58f2dbd7$export$5a156de1a5d2f922).air\n            };\n            tiles.push(tile);\n        }\n    }\n    gateways.forEach((gateway)=>{\n        const tile = tiles.find((tile)=>tile.x === gateway.x && tile.y === gateway.y);\n        if (!tile) return;\n        tile.debug = true;\n        tile.gateway = gateway.id;\n        switch(gateway.dir){\n            case 0:\n                tile.target = {\n                    x: tile.x,\n                    y: (0, $b538644da75a1e4a$export$9ecce7f637e2cef2) - 2\n                };\n                tile.type = (0, $c522274b58f2dbd7$export$5a156de1a5d2f922).gateway.north;\n                break;\n            case 1:\n                tile.target = {\n                    x: 1,\n                    y: tile.y\n                };\n                tile.type = (0, $c522274b58f2dbd7$export$5a156de1a5d2f922).gateway.east;\n                break;\n            case 2:\n                tile.target = {\n                    x: tile.x,\n                    y: 1\n                };\n                tile.type = (0, $c522274b58f2dbd7$export$5a156de1a5d2f922).gateway.south;\n                break;\n            case 3:\n                tile.target = {\n                    x: (0, $b538644da75a1e4a$export$6a6dcc7e725abed4) - 2,\n                    y: tile.y\n                };\n                tile.type = (0, $c522274b58f2dbd7$export$5a156de1a5d2f922).gateway.west;\n                break;\n        }\n    });\n    return tiles;\n};\n\n\n// TODO: randomly generate map layout at some point...\n// # = Empty room (with horrors you can't imagine... maybe)\n// A = Altar\n// 1 = Candle 1\n// 2 = Candle 2\n// 3 = Candle 3\n// 4 = Candle 4\n// 5 = Candle 5\nconst $8ea1e13aabce4ae5$var$roomTypeMap = new Map([\n    [\n        \"#\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY\n    ],\n    [\n        \"A\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).MAIN\n    ],\n    [\n        \"1\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY\n    ],\n    [\n        \"2\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY\n    ],\n    [\n        \"3\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY\n    ],\n    [\n        \"4\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY\n    ],\n    [\n        \"5\",\n        (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY\n    ]\n]);\nconst $8ea1e13aabce4ae5$export$b3219800bda33a1f = [\n    [\n        \"1\",\n        \" \",\n        \" \",\n        \" \",\n        \" \",\n        \" \",\n        \"4\",\n        \" \"\n    ],\n    [\n        \"#\",\n        \"#\",\n        \"#\",\n        \"#\",\n        \"#\",\n        \"#\",\n        \"#\",\n        \"#\"\n    ],\n    [\n        \" \",\n        \"#\",\n        \" \",\n        \"#\",\n        \" \",\n        \" \",\n        \" \",\n        \" \"\n    ],\n    [\n        \" \",\n        \"#\",\n        \"#\",\n        \"A\",\n        \"#\",\n        \"#\",\n        \"#\",\n        \" \"\n    ],\n    [\n        \" \",\n        \"#\",\n        \" \",\n        \"#\",\n        \" \",\n        \" \",\n        \"#\",\n        \"3\"\n    ],\n    [\n        \" \",\n        \"#\",\n        \"#\",\n        \"#\",\n        \" \",\n        \"#\",\n        \"#\",\n        \" \"\n    ],\n    [\n        \"2\",\n        \"#\",\n        \" \",\n        \"#\",\n        \"5\",\n        \" \",\n        \" \",\n        \" \"\n    ]\n];\nconst $8ea1e13aabce4ae5$var$rows = $8ea1e13aabce4ae5$export$b3219800bda33a1f.length;\nconst $8ea1e13aabce4ae5$var$columns = $8ea1e13aabce4ae5$export$b3219800bda33a1f[0].length;\nconst $8ea1e13aabce4ae5$var$mapItems = new Map();\nfor(let y = 0; y < $8ea1e13aabce4ae5$export$b3219800bda33a1f.length; y++){\n    const row = $8ea1e13aabce4ae5$export$b3219800bda33a1f[y];\n    for(let x = 0; x < row.length; x++){\n        const char = row[x];\n        if (!char || char === \" \") continue;\n        const id = `room-${x}-${y}`;\n        const type = $8ea1e13aabce4ae5$var$roomTypeMap.get(char) || (0, $ddf07b7a7e40b7af$export$24193575da0c3ef5).EMPTY;\n        $8ea1e13aabce4ae5$var$mapItems.set(id, {\n            x: x,\n            y: y,\n            id: id,\n            type: type\n        });\n    }\n}\nconst $8ea1e13aabce4ae5$export$871de8747c9eaa88 = new Map();\n$8ea1e13aabce4ae5$var$mapItems.forEach((item)=>{\n    const adjacentRooms = [\n        {\n            x: item.x,\n            y: item.y - 1,\n            dir: (0, $098e597b73ffd03e$export$9f0347034b4ca000).NORTH\n        },\n        {\n            x: item.x + 1,\n            y: item.y,\n            dir: (0, $098e597b73ffd03e$export$9f0347034b4ca000).EAST\n        },\n        {\n            x: item.x,\n            y: item.y + 1,\n            dir: (0, $098e597b73ffd03e$export$9f0347034b4ca000).SOUTH\n        },\n        {\n            x: item.x - 1,\n            y: item.y,\n            dir: (0, $098e597b73ffd03e$export$9f0347034b4ca000).WEST\n        }\n    ];\n    const gateways = adjacentRooms.reduce((gateways, roomCoords)=>{\n        const id = $8ea1e13aabce4ae5$var$mapItems.get(`room-${roomCoords.x}-${roomCoords.y}`)?.id;\n        let x = 0;\n        let y = 0;\n        switch(roomCoords.dir){\n            case (0, $098e597b73ffd03e$export$9f0347034b4ca000).NORTH:\n                x = Math.floor((0, $b538644da75a1e4a$export$6a6dcc7e725abed4) / 2);\n                break;\n            case (0, $098e597b73ffd03e$export$9f0347034b4ca000).EAST:\n                x = (0, $b538644da75a1e4a$export$6a6dcc7e725abed4) - 1;\n                y = Math.floor((0, $b538644da75a1e4a$export$9ecce7f637e2cef2) / 2);\n                break;\n            case (0, $098e597b73ffd03e$export$9f0347034b4ca000).SOUTH:\n                x = Math.floor((0, $b538644da75a1e4a$export$6a6dcc7e725abed4) / 2);\n                y = (0, $b538644da75a1e4a$export$9ecce7f637e2cef2) - 1;\n                break;\n            case (0, $098e597b73ffd03e$export$9f0347034b4ca000).WEST:\n                y = Math.floor((0, $b538644da75a1e4a$export$9ecce7f637e2cef2) / 2);\n                break;\n        }\n        return id ? [\n            ...gateways,\n            {\n                x: x,\n                y: y,\n                id: id,\n                dir: roomCoords.dir\n            }\n        ] : gateways;\n    }, []);\n    const layout = (0, $5807aec6125fc5b3$export$1ecca0613f5e56d2).get(item.type);\n    if (!layout) return;\n    const room = {\n        id: item.id,\n        tiles: (0, $098e597b73ffd03e$export$bffedaedfad11873)(layout, gateways),\n        draw: ()=>(0, $7ddd36fe8f2e1a51$export$7609c20295700ccc)(room.tiles)\n    };\n    $8ea1e13aabce4ae5$export$871de8747c9eaa88.set(item.id, {\n        ...item,\n        room: room\n    });\n});\nconst $8ea1e13aabce4ae5$var$initialRoom = $8ea1e13aabce4ae5$export$871de8747c9eaa88.get(\"room-3-3\")?.room;\nconst $8ea1e13aabce4ae5$export$f9d3fff8c23da278 = {\n    current: $8ea1e13aabce4ae5$var$initialRoom\n};\n\n\n\nconst $29061d6eec20e354$export$116e5f7d3f4c5392 = (player, dt)=>{\n    const doorTile = (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.tiles.find((tile)=>!!tile.gateway && tile.x === player.tile.x && tile.y === player.tile.y);\n    if (doorTile?.gateway) {\n        (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current = (0, $8ea1e13aabce4ae5$export$871de8747c9eaa88).get(doorTile.gateway)?.room;\n        player.x = (doorTile.target?.x || 0) * (0, $497b2d40f0cf2220$export$dea52d477af4398a);\n        player.y = (doorTile.target?.y || 0) * (0, $497b2d40f0cf2220$export$dea52d477af4398a);\n    }\n    let nx = player.x + player.vel.x * dt;\n    let ny = player.y + player.vel.y * dt;\n    const solidTiles = (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.tiles.filter((tile)=>tile.type.isSolid) || [];\n    for (const tile of solidTiles){\n        const x = tile.x * (0, $497b2d40f0cf2220$export$dea52d477af4398a);\n        const y = tile.y * (0, $497b2d40f0cf2220$export$dea52d477af4398a);\n        if (nx > x && nx < x + (0, $497b2d40f0cf2220$export$dea52d477af4398a) && ny > y && ny < y + (0, $497b2d40f0cf2220$export$dea52d477af4398a)) {\n            nx = player.x;\n            ny = player.y;\n        }\n    }\n    player.x = nx;\n    player.y = ny;\n    // Get player tile\n    player.tile.x = Math.floor(player.x / (0, $497b2d40f0cf2220$export$dea52d477af4398a));\n    player.tile.y = Math.floor(player.y / (0, $497b2d40f0cf2220$export$dea52d477af4398a));\n    if (player.candle) {\n        player.candle.x = player.x;\n        player.candle.y = player.y;\n        player.candle.room = (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.id;\n    }\n};\nconst $29061d6eec20e354$export$65b23b1dfb99f88a = (projectile, dt)=>{\n    projectile.x += projectile.vel.x * dt;\n    projectile.y += projectile.vel.y * dt;\n    const dvx = (0, $f2635be855952ad7$export$f1fd645118ed8be8).x - projectile.x;\n    const dvy = (0, $f2635be855952ad7$export$f1fd645118ed8be8).y - projectile.y;\n    const magnitude = Math.sqrt(dvx * dvx + dvy * dvy);\n    if (projectile.isActive && magnitude < (0, $f2635be855952ad7$export$f1fd645118ed8be8).w / 2) {\n        (0, $f2635be855952ad7$export$f1fd645118ed8be8).hit();\n        projectile.isActive = false;\n    }\n};\n\n\nconst $fda0042d7ace4273$export$5f4276d44c62d457 = 50;\nconst $fda0042d7ace4273$export$615455393ee443ca = {\n    x: 20,\n    y: 30,\n    w: 8,\n    h: 8,\n    vel: {\n        x: 0,\n        y: 0\n    },\n    tile: {\n        x: 0,\n        y: 0\n    },\n    debug: false,\n    update: (dt)=>{\n        (0, $29061d6eec20e354$export$116e5f7d3f4c5392)($fda0042d7ace4273$export$615455393ee443ca, dt);\n        (0, $29061d6eec20e354$export$65b23b1dfb99f88a)($fda0042d7ace4273$export$c25853900383112d, dt);\n    },\n    draw: (dt)=>{\n        (0, $497b2d40f0cf2220$export$941190eab9b1306e)($fda0042d7ace4273$export$615455393ee443ca, dt);\n        (0, $497b2d40f0cf2220$export$c0fc52b0bcb1936a)($fda0042d7ace4273$export$c25853900383112d, dt);\n    },\n    fire: ()=>$fda0042d7ace4273$var$fireProjectile()\n};\nconst $fda0042d7ace4273$export$c25853900383112d = {\n    r: 1,\n    x: $fda0042d7ace4273$export$615455393ee443ca.x,\n    y: $fda0042d7ace4273$export$615455393ee443ca.y,\n    vel: {\n        x: 0,\n        y: 0\n    },\n    isActive: false\n};\nvar $1e7d786d10c0e939$exports = {};\n$1e7d786d10c0e939$exports = new URL(\"bling.5ae92f5b.mp3\", import.meta.url).toString();\n\n\nconst $fda0042d7ace4273$var$mp3URL = new URL($1e7d786d10c0e939$exports);\nconst $fda0042d7ace4273$var$bling = new Audio($fda0042d7ace4273$var$mp3URL.toString());\n$fda0042d7ace4273$var$bling.load();\nconst $fda0042d7ace4273$export$f46220a60a54f689 = 100;\nconst $fda0042d7ace4273$var$fireProjectile = ()=>{\n    if ($fda0042d7ace4273$export$c25853900383112d.isActive || !(0, $f2635be855952ad7$export$f1fd645118ed8be8).isActive) return;\n    $fda0042d7ace4273$var$bling.pause();\n    $fda0042d7ace4273$var$bling.load();\n    $fda0042d7ace4273$var$bling.play();\n    $fda0042d7ace4273$export$c25853900383112d.x = $fda0042d7ace4273$export$615455393ee443ca.x;\n    $fda0042d7ace4273$export$c25853900383112d.y = $fda0042d7ace4273$export$615455393ee443ca.y;\n    // Directional vector\n    const dvx = (0, $f2635be855952ad7$export$f1fd645118ed8be8).x - $fda0042d7ace4273$export$615455393ee443ca.x;\n    const dvy = (0, $f2635be855952ad7$export$f1fd645118ed8be8).y - $fda0042d7ace4273$export$615455393ee443ca.y;\n    const magnitude = Math.sqrt(dvx * dvx + dvy * dvy);\n    // unit vector\n    const uvx = dvx / magnitude;\n    const uvy = dvy / magnitude;\n    $fda0042d7ace4273$export$c25853900383112d.vel.x = uvx * $fda0042d7ace4273$export$f46220a60a54f689;\n    $fda0042d7ace4273$export$c25853900383112d.vel.y = uvy * $fda0042d7ace4273$export$f46220a60a54f689;\n    $fda0042d7ace4273$export$c25853900383112d.isActive = true;\n};\n\n\n\n\n\n\n\n\nconst { ctx: $f8dab26eb8b17592$var$ctx } = (0, $b538644da75a1e4a$export$671da467341b3aba)();\nconst $f8dab26eb8b17592$var$tileType = (0, $c522274b58f2dbd7$export$5a156de1a5d2f922).candle;\nconst $f8dab26eb8b17592$export$c1384d250b581fb0 = (candle)=>{\n    const index = $f8dab26eb8b17592$var$tileType.graphicIndexes[$f8dab26eb8b17592$var$tileType.currentFrame];\n    const column = Math.floor(index % (0, $82cbb14ddd640a4b$export$53b3c91859018cd4));\n    const row = Math.floor(index / (0, $82cbb14ddd640a4b$export$53b3c91859018cd4));\n    const xOffset = column * (0, $82cbb14ddd640a4b$export$dea52d477af4398a);\n    const yOffset = row * (0, $82cbb14ddd640a4b$export$dea52d477af4398a);\n    const x = candle.x - (0, $82cbb14ddd640a4b$export$dea52d477af4398a) * 0.5;\n    const y = candle.y - (0, $82cbb14ddd640a4b$export$dea52d477af4398a) * 0.5;\n    $f8dab26eb8b17592$var$ctx.drawImage((0, $82cbb14ddd640a4b$export$5c452ff88e35e47d), xOffset, yOffset, (0, $82cbb14ddd640a4b$export$dea52d477af4398a), (0, $82cbb14ddd640a4b$export$dea52d477af4398a), x, y, (0, $82cbb14ddd640a4b$export$dea52d477af4398a), (0, $82cbb14ddd640a4b$export$dea52d477af4398a));\n    if (candle.debug) {\n        $f8dab26eb8b17592$var$ctx.strokeStyle = \"#FFFFFF\";\n        $f8dab26eb8b17592$var$ctx.lineWidth = 1 / 8;\n        $f8dab26eb8b17592$var$ctx.beginPath();\n        $f8dab26eb8b17592$var$ctx.rect(x, y, (0, $82cbb14ddd640a4b$export$dea52d477af4398a), (0, $82cbb14ddd640a4b$export$dea52d477af4398a));\n        $f8dab26eb8b17592$var$ctx.stroke();\n    }\n};\n\n\nconst $bbf478b8138cf072$export$2d8bb87b05f43b44 = (candle)=>{};\n\n\nconst $4a3bf1a68fc18b3d$var$candle1 = {\n    x: 2 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    y: 1 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    debug: false,\n    room: \"room-0-0\",\n    update: ()=>(0, $bbf478b8138cf072$export$2d8bb87b05f43b44)($4a3bf1a68fc18b3d$var$candle1),\n    draw: ()=>(0, $f8dab26eb8b17592$export$c1384d250b581fb0)($4a3bf1a68fc18b3d$var$candle1)\n};\nconst $4a3bf1a68fc18b3d$var$candle2 = {\n    x: 8 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    y: 8 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    debug: false,\n    room: \"room-0-6\",\n    update: ()=>(0, $bbf478b8138cf072$export$2d8bb87b05f43b44)($4a3bf1a68fc18b3d$var$candle2),\n    draw: ()=>(0, $f8dab26eb8b17592$export$c1384d250b581fb0)($4a3bf1a68fc18b3d$var$candle2)\n};\nconst $4a3bf1a68fc18b3d$var$candle3 = {\n    x: 12 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    y: 8 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    debug: false,\n    room: \"room-7-4\",\n    update: ()=>(0, $bbf478b8138cf072$export$2d8bb87b05f43b44)($4a3bf1a68fc18b3d$var$candle3),\n    draw: ()=>(0, $f8dab26eb8b17592$export$c1384d250b581fb0)($4a3bf1a68fc18b3d$var$candle3)\n};\nconst $4a3bf1a68fc18b3d$var$candle4 = {\n    x: 10 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    y: 2 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    debug: false,\n    room: \"room-6-0\",\n    update: ()=>(0, $bbf478b8138cf072$export$2d8bb87b05f43b44)($4a3bf1a68fc18b3d$var$candle4),\n    draw: ()=>(0, $f8dab26eb8b17592$export$c1384d250b581fb0)($4a3bf1a68fc18b3d$var$candle4)\n};\nconst $4a3bf1a68fc18b3d$var$candle5 = {\n    x: 8 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    y: 4 * (0, $82cbb14ddd640a4b$export$dea52d477af4398a),\n    debug: false,\n    room: \"room-4-6\",\n    update: ()=>(0, $bbf478b8138cf072$export$2d8bb87b05f43b44)($4a3bf1a68fc18b3d$var$candle5),\n    draw: ()=>(0, $f8dab26eb8b17592$export$c1384d250b581fb0)($4a3bf1a68fc18b3d$var$candle5)\n};\nconst $4a3bf1a68fc18b3d$export$84278b8886d16bee = [\n    $4a3bf1a68fc18b3d$var$candle1,\n    $4a3bf1a68fc18b3d$var$candle2,\n    $4a3bf1a68fc18b3d$var$candle3,\n    $4a3bf1a68fc18b3d$var$candle4,\n    $4a3bf1a68fc18b3d$var$candle5\n];\n\n\n\nwindow.addEventListener(\"keydown\", (e)=>{\n    switch(e.key){\n        case \"w\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.y = -(0, $fda0042d7ace4273$export$5f4276d44c62d457);\n            break;\n        case \"a\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.x = -(0, $fda0042d7ace4273$export$5f4276d44c62d457);\n            break;\n        case \"s\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.y = (0, $fda0042d7ace4273$export$5f4276d44c62d457);\n            break;\n        case \"d\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.x = (0, $fda0042d7ace4273$export$5f4276d44c62d457);\n            break;\n    }\n});\nwindow.addEventListener(\"keyup\", (e)=>{\n    switch(e.key){\n        case \"w\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.y = 0;\n            break;\n        case \"a\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.x = 0;\n            break;\n        case \"s\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.y = 0;\n            break;\n        case \"d\":\n            (0, $fda0042d7ace4273$export$615455393ee443ca).vel.x = 0;\n            break;\n        case \"e\":\n            $ad9ff36f4afed11d$var$pickUpItem();\n            break;\n    }\n});\nwindow.addEventListener(\"mousedown\", (e)=>{\n    (0, $fda0042d7ace4273$export$615455393ee443ca).fire();\n});\nvar $ef1e366503a5d8e0$exports = {};\n$ef1e366503a5d8e0$exports = new URL(\"pickup.b7a52900.mp3\", import.meta.url).toString();\n\n\nconst $ad9ff36f4afed11d$var$pickupURL = new URL($ef1e366503a5d8e0$exports);\nconst $ad9ff36f4afed11d$var$pickup = new Audio($ad9ff36f4afed11d$var$pickupURL.toString());\n$ad9ff36f4afed11d$var$pickup.load();\nconst $ad9ff36f4afed11d$var$pickUpItem = ()=>{\n    if ((0, $fda0042d7ace4273$export$615455393ee443ca).candle) {\n        delete (0, $fda0042d7ace4273$export$615455393ee443ca).candle;\n        $ad9ff36f4afed11d$var$pickup.play();\n        return;\n    }\n    const roomCandles = (0, $4a3bf1a68fc18b3d$export$84278b8886d16bee).filter((candle)=>candle.room === (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.id);\n    if (roomCandles.length < 1) return;\n    for (const candle of roomCandles)if (Math.abs((0, $fda0042d7ace4273$export$615455393ee443ca).x - candle.x) <= (0, $82cbb14ddd640a4b$export$dea52d477af4398a) && Math.abs((0, $fda0042d7ace4273$export$615455393ee443ca).y - candle.y) <= (0, $82cbb14ddd640a4b$export$dea52d477af4398a)) {\n        (0, $fda0042d7ace4273$export$615455393ee443ca).candle = candle;\n        $ad9ff36f4afed11d$var$pickup.play();\n        break;\n    }\n};\n\n\n\n\n\n\nconst $b1dc5b05612898eb$export$82127d6622dd9d9f = ()=>{\n    (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.tiles.forEach((tile)=>{\n        const isPlayerTile = tile.x === (0, $fda0042d7ace4273$export$615455393ee443ca).tile.x && tile.y === (0, $fda0042d7ace4273$export$615455393ee443ca).tile.y;\n        tile.debug = isPlayerTile && (0, $fda0042d7ace4273$export$615455393ee443ca).debug;\n    });\n    (0, $c522274b58f2dbd7$export$723aa6ff9f95b23e).forEach((tile)=>{\n        if (!tile.isAnimated) return;\n        tile.acc++;\n        if (tile.acc >= tile.frameDuration) {\n            tile.acc = 0;\n            tile.currentFrame++;\n        }\n        if (tile.currentFrame >= tile.graphicIndexes.length) tile.currentFrame = 0;\n    });\n};\n\n\n\n\nconst { ctx: $ad2bcec7a0192558$var$ctx } = (0, $b538644da75a1e4a$export$671da467341b3aba)();\nconst $ad2bcec7a0192558$var$update = (dt)=>{\n    (0, $b1dc5b05612898eb$export$82127d6622dd9d9f)();\n    (0, $fda0042d7ace4273$export$615455393ee443ca).update(dt);\n    (0, $f2635be855952ad7$export$f1fd645118ed8be8).update(dt);\n    (0, $4a3bf1a68fc18b3d$export$84278b8886d16bee).forEach((candle)=>candle.update());\n    $ad2bcec7a0192558$var$spawnDemon();\n};\nconst $ad2bcec7a0192558$var$render = (dt)=>{\n    (0, $b538644da75a1e4a$export$a1c066623ac679d3)();\n    (0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.draw();\n    (0, $fda0042d7ace4273$export$615455393ee443ca).draw(dt);\n    (0, $4a3bf1a68fc18b3d$export$84278b8886d16bee).forEach((candle)=>(0, $8ea1e13aabce4ae5$export$f9d3fff8c23da278).current.id === candle.room && candle.draw());\n    (0, $f2635be855952ad7$export$f1fd645118ed8be8).draw();\n// Debug altar bounds\n// ctx.beginPath();\n// ctx.rect(altarCoords.x, altarCoords.y, 8*3,8*3)\n// ctx.stroke()\n};\nlet $ad2bcec7a0192558$var$lastTimestamp = performance.now();\nconst $ad2bcec7a0192558$var$gameloop = ()=>{\n    const timestamp = performance.now();\n    const dt = (timestamp - $ad2bcec7a0192558$var$lastTimestamp) / 1000;\n    $ad2bcec7a0192558$var$lastTimestamp = timestamp;\n    $ad2bcec7a0192558$var$update(dt);\n    $ad2bcec7a0192558$var$render(dt);\n    window.requestAnimationFrame($ad2bcec7a0192558$var$gameloop);\n};\nwindow.requestAnimationFrame($ad2bcec7a0192558$var$gameloop);\nconst $ad2bcec7a0192558$var$altarCoords = {\n    x: 48,\n    y: 32\n};\n\nconst $ad2bcec7a0192558$var$spawnSoundURL = new URL($4e7191e2caed83b6$exports);\nconst $ad2bcec7a0192558$var$spawnSound = new Audio($ad2bcec7a0192558$var$spawnSoundURL.toString());\n$ad2bcec7a0192558$var$spawnSound.load();\nconst $ad2bcec7a0192558$var$spawnDemon = ()=>{\n    if ((0, $f2635be855952ad7$export$f1fd645118ed8be8).isActive) return;\n    if ((0, $fda0042d7ace4273$export$615455393ee443ca).candle) return;\n    if ((0, $4a3bf1a68fc18b3d$export$84278b8886d16bee).some((candle)=>candle.room !== \"room-3-3\")) return;\n    // Quick and dirty solution so check if all candles are incide the altar\n    // TODO: Improve by getting altar coords from room data\n    for (const candle of (0, $4a3bf1a68fc18b3d$export$84278b8886d16bee)){\n        if (candle.x < $ad2bcec7a0192558$var$altarCoords.x) return;\n        if (candle.x > $ad2bcec7a0192558$var$altarCoords.x + 24) return;\n        if (candle.y < $ad2bcec7a0192558$var$altarCoords.y) return;\n        if (candle.y > $ad2bcec7a0192558$var$altarCoords.y + 24) return;\n    }\n    (0, $f2635be855952ad7$export$f1fd645118ed8be8).isActive = true;\n    $ad2bcec7a0192558$var$spawnSound.play();\n};\n\n\n//# sourceMappingURL=index.a6fc4938.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"aT88m\\\",\\\"index.a6fc4938.js\\\",\\\"6xSCA\\\",\\\"tileset.d92f4525.png\\\",\\\"h0uMK\\\",\\\"demon.07abaa9f.png\\\",\\\"kolwG\\\",\\\"hit.a1098d96.mp3\\\",\\\"3dBfA\\\",\\\"player.429cac3e.png\\\",\\\"fAPus\\\",\\\"bling.5ae92f5b.mp3\\\",\\\"2pqM0\\\",\\\"pickup.b7a52900.mp3\\\"]\"));","import { clearCanvas } from \"./graphics\";\r\nimport { player } from './player';\r\nimport './controls';\r\nimport { room } from \"./map\";\r\nimport { updateTiles } from \"./tiles/updateTiles\";\r\nimport { candles } from \"./candles\";\r\nimport { demon } from \"./demon/demon\";\r\nimport { getGraphics } from \"./graphics\";\r\n\r\nconst {ctx} = getGraphics()\r\n\r\nconst update = (dt: number) => {\r\n  updateTiles();\r\n  player.update(dt);\r\n  demon.update(dt);\r\n  candles.forEach(candle => candle.update());\r\n  spawnDemon()\r\n};\r\n\r\nconst render = (dt: number) => {\r\n  clearCanvas();\r\n  room.current.draw();\r\n  player.draw(dt);\r\n  candles.forEach(candle => room.current.id === candle.room && candle.draw());\r\n  demon.draw();\r\n\r\n  // Debug altar bounds\r\n  // ctx.beginPath();\r\n  // ctx.rect(altarCoords.x, altarCoords.y, 8*3,8*3)\r\n  // ctx.stroke()\r\n};\r\n\r\nlet lastTimestamp = performance.now();\r\nconst gameloop = () => {\r\n  const timestamp = performance.now();\r\n  const dt = (timestamp - lastTimestamp) / 1000;\r\n  lastTimestamp = timestamp;\r\n\r\n  update(dt);\r\n  render(dt);\r\n\r\n  window.requestAnimationFrame(gameloop);\r\n};\r\n\r\nwindow.requestAnimationFrame(gameloop)\r\n\r\nconst altarCoords = {\r\n  x: 8*6,\r\n  y: 8*4,\r\n}\r\n\r\nconst spawnSoundURL = new URL('./assets/hit.mp3', import.meta.url)\r\nconst spawnSound = new Audio(spawnSoundURL.toString());\r\nspawnSound.load()\r\n\r\nconst spawnDemon = () => {\r\n  if (demon.isActive) return;\r\n  if (player.candle) return\r\n  if (candles.some(candle => candle.room !== 'room-3-3')) return;\r\n\r\n  // Quick and dirty solution so check if all candles are incide the altar\r\n  // TODO: Improve by getting altar coords from room data\r\n  for (const candle of candles) {\r\n    if (candle.x < altarCoords.x) return;\r\n    if (candle.x > altarCoords.x + 8*3) return;\r\n    if (candle.y < altarCoords.y) return;\r\n    if (candle.y > altarCoords.y + 8*3) return;\r\n  }\r\n\r\n  demon.isActive = true\r\n  spawnSound.play();\r\n}","import { tileSize } from \"../tiles/tileset\";\r\n\r\nconst canvas = document.getElementById('canvas');\r\n\r\nif (!canvas || !(canvas instanceof HTMLCanvasElement)) {\r\n  throw new Error('Missing canvas');\r\n}\r\n\r\nexport const SCALE = 8;\r\nexport const COLUMNS = 15;\r\nexport const ROWS = 11;\r\ncanvas.width = tileSize * COLUMNS * SCALE;\r\ncanvas.height = tileSize * ROWS * SCALE;\r\n\r\nconst ctx = canvas.getContext('2d');\r\n\r\nif (!ctx) {\r\n  throw new Error('Missing context');\r\n}\r\n\r\n// @ts-ignore\r\nctx.webkitImageSmoothingEnabled = false;\r\n// @ts-ignore\r\nctx.mozImageSmoothingEnabled = false;\r\nctx.imageSmoothingEnabled = false;\r\nctx.scale(SCALE, SCALE);\r\n\r\nexport const getGraphics = () => ({\r\n  canvas,\r\n  ctx\r\n});\r\n\r\nexport const clearCanvas = () => {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  ctx.moveTo(0, 0);\r\n  ctx.fillStyle = '#191B1A';\r\n  ctx.beginPath();\r\n  ctx.rect(0, 0, canvas.width, canvas.height);\r\n  ctx.fill();\r\n};","export const image = new Image();\r\nexport const tileSize = 8;\r\nexport const columns = 128 / tileSize;\r\nexport const rows = 128 / tileSize;\r\n\r\nconst imageUrl = new URL(\r\n  '../assets/tileset.png',\r\n  import.meta.url\r\n);\r\n\r\nimage.src = imageUrl.toString();\r\n\r\n","module.exports = new __parcel__URL__(\"tileset.d92f4525.png\").toString();","import { Candle } from '../candles';\r\nimport { demon } from '../demon/demon';\r\nimport { drawPlayer, drawProjectile } from './draw';\r\nimport { updatePlayer, updateProjectile } from './updatePlayer';\r\n\r\nexport const PLAYER_MAX_VEL = 50;\r\n\r\nexport interface Player {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  vel: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n  tile: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n  debug: boolean;\r\n  candle?: Candle;\r\n  update: (dt: number) => void;\r\n  draw: (dt: number) => void;\r\n  fire: () => void\r\n}\r\n\r\nexport const player: Player = {\r\n  x: 20,\r\n  y: 30,\r\n  w: 8,\r\n  h: 8,\r\n  vel: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  tile: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  debug: false,\r\n  update: (dt) => {\r\n    updatePlayer(player, dt);\r\n    updateProjectile(projectile, dt);\r\n  },\r\n  draw: (dt) => {\r\n    drawPlayer(player, dt);\r\n    drawProjectile(projectile, dt)\r\n  },\r\n  fire: () => fireProjectile()\r\n};\r\n\r\nexport interface Projectile {\r\n  r: number,\r\n  x: number,\r\n  y: number,\r\n  vel: {x: number, y: number},\r\n  isActive: boolean;\r\n}\r\n\r\nexport const projectile: Projectile = {\r\n  r: 1,\r\n  x: player.x,\r\n  y: player.y,\r\n  vel: {x: 0, y: 0},\r\n  isActive: false,\r\n}\r\n\r\nconst mp3URL = new URL('../assets/bling.mp3', import.meta.url)\r\nconst bling = new Audio(mp3URL.toString());\r\nbling.load()\r\n\r\n\r\nexport const PROJECTILE_SPEED = 100\r\nconst fireProjectile = () => {\r\n  if (projectile.isActive || !demon.isActive) return;\r\n  bling.pause();\r\n  bling.load();\r\n  bling.play();\r\n\r\n  projectile.x = player.x\r\n  projectile.y = player.y\r\n\r\n  // Directional vector\r\n  const dvx = demon.x - player.x;\r\n  const dvy = demon.y - player.y;\r\n\r\n  const magnitude = Math.sqrt(dvx * dvx + dvy * dvy);\r\n  // unit vector\r\n  const uvx = dvx / magnitude;\r\n  const uvy = dvy / magnitude;\r\n\r\n  projectile.vel.x = uvx * PROJECTILE_SPEED;\r\n  projectile.vel.y = uvy * PROJECTILE_SPEED;\r\n  projectile.isActive = true\r\n}","import { drawDemon } from \"./drawDemon\";\r\nimport { updateDemon } from \"./updateDemon\";\r\n\r\nconst hitURL = new URL('../assets/hit.mp3', import.meta.url)\r\nconst hit = new Audio(hitURL.toString());\r\nhit.load()\r\n\r\nexport interface Demon {\r\n  x: number;\r\n  y: number;\r\n  vel: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n  w: number;\r\n  h: number;\r\n  health: number;\r\n  debug: boolean;\r\n  isActive: boolean;\r\n  update: (dt: number) => void;\r\n  draw: () => void;\r\n  hit: () => void;\r\n}\r\n\r\nexport const demon: Demon = {\r\n  x: 70,\r\n  y: 40,\r\n  vel: {x: 0, y: 0},\r\n  w: 8 * 3,\r\n  h: 8 * 3,\r\n  health: 1,\r\n  debug: false,\r\n  isActive: false,\r\n  update: (dt) => updateDemon(demon, dt),\r\n  draw: () => drawDemon(demon),\r\n  hit: () => {\r\n    demon.health -= 0.01;\r\n    hit.play();\r\n\r\n    if (demon.health <= 0) {\r\n      alert('Game over!');\r\n      demon.health = 1;\r\n      demon.isActive = false;\r\n    }\r\n\r\n\r\n  }\r\n}","import { getGraphics } from \"../graphics\"\r\nimport { Demon } from \"./demon\";\r\n\r\nconst { ctx } = getGraphics();\r\nexport const image = new Image();\r\nexport const tileSize = 8 * 3;\r\nconst frames = 5\r\n\r\nconst imageUrl = new URL('../assets/demon.png', import.meta.url);\r\nimage.src = imageUrl.toString();\r\n\r\nconst frameLength = 20\r\nlet acc = 0\r\nlet frame = 0\r\n\r\nexport const drawDemon = (demon: Demon) => {\r\n  if (!demon.isActive) return;\r\n\r\n  acc++;\r\n\r\n  if (acc >= frameLength) {\r\n    frame++;\r\n    acc = 0;\r\n  }\r\n\r\n  if (frame >= frames) {\r\n    frame = 0;\r\n  }\r\n\r\n  const column = Math.floor(frame % frames);\r\n  const row = Math.floor(frame / frames);\r\n\r\n  const xOffset = Math.floor(column * tileSize);\r\n  const yOffset = Math.round(row * tileSize);\r\n\r\n  const x = demon.x - demon.w * 0.5;\r\n  const y = demon.y - demon.h * 0.5;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    demon.w,\r\n    demon.h\r\n  );\r\n\r\n  drawHealthBar(demon)\r\n\r\n  if (demon.debug) {\r\n    ctx.strokeStyle = '#FFFFFF';\r\n    ctx.lineWidth = 1 / 8;\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, demon.w, demon.h);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(x, y)\r\n    ctx.lineTo(x + demon.w, y + demon.h)\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + demon.w, y)\r\n    ctx.lineTo(x, y + demon.h)\r\n    ctx.stroke();\r\n  }\r\n}\r\n\r\nconst drawHealthBar = (demon: Demon) => {\r\n  const x = 1\r\n  const y = 1\r\n  const w = 50\r\n  const h = 5\r\n  const margin = 0.5\r\n\r\n  // Health bar\r\n  ctx.beginPath();\r\n  ctx.fillStyle = '#191b1a'\r\n  ctx.rect(x, y, w, h)\r\n  ctx.fill()\r\n  ctx.beginPath();\r\n  ctx.fillStyle = '#294257'\r\n  ctx.rect(x + margin, y + margin, w - margin * 2, h - margin * 2)\r\n  ctx.fill()\r\n  ctx.beginPath();\r\n  ctx.fillStyle = '#99c9b3'\r\n  ctx.rect(x + margin, y + margin, (w - margin * 2) * demon.health, h - margin * 2)\r\n  ctx.fill()\r\n}","module.exports = new __parcel__URL__(\"demon.07abaa9f.png\").toString();","import { player } from \"../player\"\r\nimport { Demon } from \"./demon\";\r\n\r\nconst DEMON_MAX_VEL = 15\r\n\r\nexport const updateDemon = (demon: Demon, dt: number) => {\r\n  if (!demon.isActive) return;\r\n\r\n  demon.vel.x = demon.x < player.x ? DEMON_MAX_VEL : -DEMON_MAX_VEL;\r\n  demon.vel.y = demon.y < player.y ? DEMON_MAX_VEL : -DEMON_MAX_VEL;\r\n\r\n  demon.x += demon.vel.x * dt;\r\n  demon.y += demon.vel.y * dt;\r\n}","module.exports = new __parcel__URL__(\"hit.a1098d96.mp3\").toString();","import { getGraphics } from '../graphics';\r\nimport { Player, Projectile } from \".\";\r\n\r\nconst { ctx } = getGraphics();\r\nexport const image = new Image();\r\nexport const tileSize = 8;\r\nconst columns = 64 / tileSize;\r\n\r\nconst imageUrl = new URL('../assets/player.png', import.meta.url);\r\nimage.src = imageUrl.toString();\r\n\r\nconst frameLength = 30;\r\nlet acc = 0;\r\nlet frameIndex = 0;\r\n\r\nexport const drawPlayer = (player: Player, dt: number) => {\r\n  acc++;\r\n\r\n  if (acc >= frameLength) {\r\n    frameIndex++;\r\n    acc = 0;\r\n  }\r\n\r\n  if (frameIndex > 2) {\r\n    frameIndex = 0;\r\n  }\r\n\r\n  const column = Math.floor(frameIndex % columns);\r\n  const row = Math.floor(frameIndex / columns);\r\n\r\n  const xOffset = Math.floor(column * tileSize);\r\n  const yOffset = Math.round(row * tileSize);\r\n\r\n  const x = player.x - player.w * 0.5;\r\n  const y = player.y - player.h * 0.5;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    tileSize,\r\n    tileSize\r\n  );\r\n\r\n  if (player.debug) {\r\n    ctx.strokeStyle = '#E00000';\r\n    ctx.lineWidth = 0.25;\r\n    ctx.fillStyle = '#FFFFFF';\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, player.w, player.h);\r\n    ctx.stroke();\r\n  }\r\n};\r\n\r\nexport const drawProjectile = (projectile: Projectile, dt: number) => {\r\n  if (!projectile.isActive) return;\r\n\r\n  ctx.fillStyle = '#99c9b3'\r\n  ctx.beginPath();\r\n  ctx.arc(projectile.x, projectile.y, projectile.r, 0, 2 * Math.PI);\r\n  ctx.fill()\r\n}","module.exports = new __parcel__URL__(\"player.429cac3e.png\").toString();","import { Player, Projectile } from \".\";\r\nimport { demon } from \"../demon/demon\";\r\nimport { map, room } from \"../map\";\r\nimport { Room } from \"../rooms/types\";\r\nimport { tileSize } from \"./draw\";\r\n\r\nexport const updatePlayer = (player: Player, dt: number) => {\r\n  const doorTile = room.current.tiles.find(tile => !!tile.gateway && tile.x === player.tile.x && tile.y === player.tile.y)\r\n  if (doorTile?.gateway) {\r\n    room.current = map.get(doorTile.gateway)?.room as Room;\r\n    player.x = (doorTile.target?.x || 0) * tileSize;\r\n    player.y = (doorTile.target?.y || 0) * tileSize;\r\n  }\r\n\r\n  let nx = player.x + player.vel.x * dt;\r\n  let ny = player.y + player.vel.y * dt;\r\n\r\n  const solidTiles = room.current.tiles.filter(tile => tile.type.isSolid) || []\r\n\r\n  for (const tile of solidTiles) {\r\n    const x = tile.x * tileSize;\r\n    const y = tile.y * tileSize;\r\n    if (\r\n      nx > x && nx < x + tileSize &&\r\n      ny > y && ny < y + tileSize\r\n    ) {\r\n      nx = player.x\r\n      ny = player.y\r\n    }\r\n  }\r\n\r\n  player.x = nx;\r\n  player.y = ny;\r\n\r\n  // Get player tile\r\n  player.tile.x = Math.floor(player.x / tileSize);\r\n  player.tile.y = Math.floor(player.y / tileSize);\r\n\r\n  if (player.candle) {\r\n    player.candle.x = player.x;\r\n    player.candle.y = player.y;\r\n    player.candle.room = room.current.id;\r\n  }\r\n};\r\n\r\nexport const updateProjectile = (projectile: Projectile, dt: number) => {\r\n  projectile.x += projectile.vel.x * dt;\r\n  projectile.y += projectile.vel.y * dt;\r\n\r\n  const dvx = demon.x - projectile.x;\r\n  const dvy = demon.y - projectile.y;\r\n  const magnitude = Math.sqrt(dvx * dvx + dvy * dvy);\r\n\r\n  if (projectile.isActive && magnitude < demon.w/2) {\r\n    demon.hit()\r\n    projectile.isActive = false\r\n  }\r\n}\r\n","import { COLUMNS, ROWS } from \"../graphics\";\r\nimport { ROOM_TYPE } from \"../rooms\";\r\nimport { layouts } from \"../rooms/layouts\";\r\nimport { Room } from \"../rooms/types\";\r\nimport { drawRoom } from \"../rooms/utils/drawRoom\";\r\nimport { GATEWAY_DIRECTION, Gateway, parseRoomLayout } from \"../rooms/utils/parseRoomLayout\";\r\n\r\ninterface MapItem {\r\n  x: number,\r\n  y: number,\r\n  id: string,\r\n  type: ROOM_TYPE,\r\n}\r\n\r\ninterface MapRoom {\r\n  id: string;\r\n  type: ROOM_TYPE,\r\n  room: Room,\r\n  north?: string;\r\n  east?: string;\r\n  south?: string;\r\n  west?: string;\r\n}\r\n\r\n// TODO: randomly generate map layout at some point...\r\n\r\n// # = Empty room (with horrors you can't imagine... maybe)\r\n// A = Altar\r\n// 1 = Candle 1\r\n// 2 = Candle 2\r\n// 3 = Candle 3\r\n// 4 = Candle 4\r\n// 5 = Candle 5\r\n\r\nconst roomTypeMap = new Map<string, ROOM_TYPE>([\r\n  ['#', ROOM_TYPE.EMPTY],\r\n  ['A', ROOM_TYPE.MAIN],\r\n  ['1', ROOM_TYPE.EMPTY],\r\n  ['2', ROOM_TYPE.EMPTY],\r\n  ['3', ROOM_TYPE.EMPTY],\r\n  ['4', ROOM_TYPE.EMPTY],\r\n  ['5', ROOM_TYPE.EMPTY],\r\n]);\r\n\r\nexport const layout = [\r\n  ['1', ' ', ' ', ' ', ' ', ' ', '4', ' ',],\r\n  ['#', '#', '#', '#', '#', '#', '#', '#',],\r\n  [' ', '#', ' ', '#', ' ', ' ', ' ', ' ',],\r\n  [' ', '#', '#', 'A', '#', '#', '#', ' ',],\r\n  [' ', '#', ' ', '#', ' ', ' ', '#', '3',],\r\n  [' ', '#', '#', '#', ' ', '#', '#', ' ',],\r\n  ['2', '#', ' ', '#', '5', ' ', ' ', ' ',],\r\n];\r\nconst rows = layout.length;\r\nconst columns = layout[0].length;\r\n\r\nconst mapItems = new Map<string, MapItem>();\r\n\r\nfor (let y = 0; y < layout.length; y++) {\r\n  const row = layout[y];\r\n\r\n  for (let x = 0; x < row.length; x++) {\r\n    const char = row[x];\r\n\r\n    if (!char || char === ' ') continue;\r\n\r\n    const id = `room-${x}-${y}`;\r\n    const type = roomTypeMap.get(char) || ROOM_TYPE.EMPTY;\r\n\r\n    mapItems.set(id, {\r\n      x,\r\n      y,\r\n      id,\r\n      type\r\n    });\r\n  }\r\n}\r\n\r\nexport const map = new Map<string, MapRoom>();\r\n\r\nmapItems.forEach(item => {\r\n  const adjacentRooms = [\r\n    {x: item.x,     y: item.y - 1, dir: GATEWAY_DIRECTION.NORTH},\r\n    {x: item.x + 1, y: item.y,     dir: GATEWAY_DIRECTION.EAST},\r\n    {x: item.x,     y: item.y + 1, dir: GATEWAY_DIRECTION.SOUTH},\r\n    {x: item.x - 1, y: item.y,     dir: GATEWAY_DIRECTION.WEST},\r\n  ]\r\n\r\n  const gateways = adjacentRooms.reduce<Gateway[]>((gateways, roomCoords) => {\r\n    const id = mapItems.get(`room-${roomCoords.x}-${roomCoords.y}`)?.id\r\n    let x = 0\r\n    let y = 0\r\n\r\n    switch (roomCoords.dir) {\r\n      case GATEWAY_DIRECTION.NORTH:\r\n        x = Math.floor(COLUMNS / 2)\r\n        break\r\n      case GATEWAY_DIRECTION.EAST:\r\n        x = COLUMNS-1\r\n        y = Math.floor(ROWS / 2)\r\n        break\r\n      case GATEWAY_DIRECTION.SOUTH:\r\n        x = Math.floor(COLUMNS / 2)\r\n        y = ROWS - 1\r\n        break\r\n      case GATEWAY_DIRECTION.WEST:\r\n        y = Math.floor(ROWS / 2)\r\n        break\r\n    }\r\n\r\n    return id ? [...gateways, {x, y, id, dir: roomCoords.dir}] : gateways\r\n  }, [])\r\n\r\n  const layout = layouts.get(item.type);\r\n\r\n  if (!layout) return;\r\n\r\n  const room: Room = {\r\n    id: item.id,\r\n    tiles: parseRoomLayout(layout, gateways),\r\n    draw: () => drawRoom(room.tiles)\r\n  };\r\n\r\n  map.set(item.id, {\r\n    ...item,\r\n    room\r\n  });\r\n});\r\n\r\nconst initialRoom = map.get('room-3-3')?.room as Room\r\n\r\nexport const room = {\r\n  current:  initialRoom\r\n};\r\n","export enum ROOM_TYPE {\r\n  EMPTY,\r\n  MAIN,\r\n  CANDLE_ROOM_1,\r\n  CANDLE_ROOM_2,\r\n  CANDLE_ROOM_3,\r\n  CANDLE_ROOM_4,\r\n  CANDLE_ROOM_5,\r\n};\r\n","import { ROOM_TYPE } from '..';\r\nimport { main } from './main';\r\nimport { empty } from './empty';\r\n\r\nexport const layouts = new Map<ROOM_TYPE, string>([\r\n  [ROOM_TYPE.MAIN, main],\r\n  [ROOM_TYPE.EMPTY, empty],\r\n]);","const layout = [\r\n  'Q#############E',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000012300000R',\r\n  'L0000045600000R',\r\n  'L0000078900000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'TBBBBBBBBBBBBBY',\r\n];\r\n\r\nexport const main = layout.join('\\n');\r\n","const layout = [\r\n  'Q#############E',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'TBBBBBBBBBBBBBY',\r\n];\r\n\r\nexport const empty = layout.join('\\n');\r\n","import { drawTile } from \"../../tiles/drawTile\";\r\nimport { Tile } from \"../types\";\r\n\r\nexport const drawRoom = (tiles: Tile[]) => {\r\n  tiles.forEach(drawTile);\r\n};","import { getGraphics } from \"../graphics\";\r\nimport { Tile } from \"../rooms/types\";\r\nimport { columns, image, tileSize } from \"./tileset\";\r\n\r\nconst { ctx } = getGraphics();\r\n\r\nexport const drawTile = (tile: Tile) => {\r\n  const index = tile.type.graphicIndexes[tile.type.currentFrame];\r\n  const column = Math.floor(index % columns);\r\n  const row = Math.floor(index / columns);\r\n\r\n  const xOffset = column * tileSize;\r\n  const yOffset = row * tileSize;\r\n\r\n  const x = tile.x * tileSize;\r\n  const y = tile.y * tileSize;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    tileSize,\r\n    tileSize\r\n  );\r\n\r\n  if (tile.debug) {\r\n    ctx.strokeStyle = '#FFFFFF';\r\n    ctx.lineWidth = 1 / 8;\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, tileSize, tileSize);\r\n    ctx.stroke();\r\n  }\r\n};","import { COLUMNS, ROWS } from \"../../graphics\";\r\nimport { tileMap, tileTypes } from \"../../tiles/types\";\r\nimport { Tile } from \"../types\";\r\nimport { drawRoom } from \"./drawRoom\";\r\n\r\nexport enum GATEWAY_DIRECTION {\r\n  NORTH,\r\n  EAST,\r\n  SOUTH,\r\n  WEST\r\n}\r\n\r\nexport interface Gateway {\r\n  x: number,\r\n  y: number,\r\n  id: string;\r\n  dir: GATEWAY_DIRECTION\r\n}\r\n\r\nexport const parseRoomLayout = (\r\n  input: string,\r\n  gateways: Gateway[]\r\n): Tile[] => {\r\n  const arr = input.split('\\n').map(line => line.split(''));\r\n  const tiles: Tile[] = [];\r\n\r\n  for (let y = 0; y < arr.length; y++) {\r\n    const row = arr[y];\r\n\r\n    for (let x = 0; x < row.length; x++) {\r\n      const char = row[x];\r\n      const tile: Tile = {\r\n        x,\r\n        y,\r\n        debug: false,\r\n        type: tileMap.get(char) || tileTypes.air\r\n      };\r\n\r\n      tiles.push(tile);\r\n    }\r\n  }\r\n\r\n  gateways.forEach((gateway) => {\r\n    const tile = tiles.find(tile => tile.x === gateway.x && tile.y === gateway.y);\r\n\r\n    if (!tile) return;\r\n\r\n    tile.debug = true;\r\n    tile.gateway = gateway.id;\r\n\r\n    switch (gateway.dir) {\r\n      case GATEWAY_DIRECTION.NORTH:\r\n        tile.target = {x: tile.x, y: ROWS - 2}\r\n        tile.type = tileTypes.gateway.north\r\n        break\r\n      case GATEWAY_DIRECTION.EAST:\r\n        tile.target = {x: 1, y: tile.y}\r\n        tile.type = tileTypes.gateway.east\r\n        break\r\n      case GATEWAY_DIRECTION.SOUTH:\r\n        tile.target = {x: tile.x, y: 1}\r\n        tile.type = tileTypes.gateway.south\r\n        break\r\n      case GATEWAY_DIRECTION.WEST:\r\n        tile.target = {x: COLUMNS - 2, y: tile.y}\r\n        tile.type = tileTypes.gateway.west\r\n        break\r\n    }\r\n  });\r\n\r\n  return tiles;\r\n};","import { columns } from \"./tileset\";\r\n\r\nexport interface TileType {\r\n  isSolid: boolean;\r\n  isAnimated: boolean;\r\n  isInteractive: boolean;\r\n  acc: number,\r\n  currentFrame: number;\r\n  frameDuration: number;\r\n  graphicIndexes: number[];\r\n}\r\n\r\nconst baseTile: TileType = {\r\n  isSolid: false,\r\n  isAnimated: false,\r\n  isInteractive: false,\r\n  acc: 0,\r\n  currentFrame: 0,\r\n  frameDuration: 0,\r\n  graphicIndexes: [0]\r\n};\r\n\r\nexport const tileMap = new Map<string, TileType>();\r\n\r\nexport const tileTypes = {\r\n  air: { ...baseTile },\r\n  ground: { ...baseTile, graphicIndexes: [columns * 2 + 2] },\r\n  wall: {\r\n    topLeft:     { ...baseTile, isSolid: true, graphicIndexes: [1] },\r\n    top:         { ...baseTile, isSolid: true, graphicIndexes: [2] },\r\n    topRight:    { ...baseTile, isSolid: true, graphicIndexes: [5] },\r\n    left:        { ...baseTile, isSolid: true, graphicIndexes: [columns * 1 + 1] },\r\n    right:       { ...baseTile, isSolid: true, graphicIndexes: [columns * 1 + 5] },\r\n    bottomLeft:  { ...baseTile, isSolid: true, graphicIndexes: [columns * 4 + 1] },\r\n    bottom:      { ...baseTile,  isSolid: true,  graphicIndexes: [columns * 4 + 2]},\r\n    bottomRight: { ...baseTile,  isSolid: true,  graphicIndexes: [columns * 4 + 5]}\r\n  },\r\n  gateway: {\r\n    north: {  ...baseTile,  isInteractive: true,  graphicIndexes: [3]},\r\n    east: {  ...baseTile,  isInteractive: true,  graphicIndexes: [columns * 2 + 5]},\r\n    south: {  ...baseTile,  isInteractive: true,  graphicIndexes: [columns * 4 + 3]},\r\n    west: {  ...baseTile,  isInteractive: true,  graphicIndexes: [columns * 2 + 1]},\r\n  },\r\n  candle: {\r\n    ...baseTile,\r\n    isAnimated: true,\r\n    isInteractive: true,\r\n    acc: 0,\r\n    currentFrame: 0,\r\n    frameDuration: 30,\r\n    graphicIndexes: [9, 10, 11, 12]\r\n  }\r\n};\r\n\r\n// General\r\ntileMap.set(' ', tileTypes.air);\r\ntileMap.set('0', tileTypes.ground);\r\n\r\n// Walls\r\ntileMap.set('Q', tileTypes.wall.topLeft);\r\ntileMap.set('#', tileTypes.wall.top);\r\ntileMap.set('E', tileTypes.wall.topRight);\r\ntileMap.set('R', tileTypes.wall.right);\r\ntileMap.set('L', tileTypes.wall.left);\r\ntileMap.set('T', tileTypes.wall.bottomLeft);\r\ntileMap.set('B', tileTypes.wall.bottom);\r\ntileMap.set('Y', tileTypes.wall.bottomRight);\r\n\r\n// Gateways\r\ntileMap.set('H', tileTypes.gateway.north);\r\ntileMap.set('J', tileTypes.gateway.east);\r\ntileMap.set('N', tileTypes.gateway.south);\r\ntileMap.set('M', tileTypes.gateway.west);\r\n\r\n// Candle\r\ntileMap.set('C', tileTypes.candle);\r\n\r\n// Alter tiles\r\ntileMap.set('1', { ...baseTile, graphicIndexes: [columns * 5] });\r\ntileMap.set('2', { ...baseTile, graphicIndexes: [columns * 5 + 1] });\r\ntileMap.set('3', { ...baseTile, graphicIndexes: [columns * 5 + 2] });\r\ntileMap.set('4', { ...baseTile, graphicIndexes: [columns * 6] });\r\ntileMap.set('5', { ...baseTile, graphicIndexes: [columns * 6 + 1] });\r\ntileMap.set('6', { ...baseTile, graphicIndexes: [columns * 6 + 2] });\r\ntileMap.set('7', { ...baseTile, graphicIndexes: [columns * 7] });\r\ntileMap.set('8', { ...baseTile, graphicIndexes: [columns * 7 + 1] });\r\ntileMap.set('9', { ...baseTile, graphicIndexes: [columns * 7 + 2] });","module.exports = new __parcel__URL__(\"bling.5ae92f5b.mp3\").toString();","import { PLAYER_MAX_VEL, player } from \"../player\";\r\nimport { room } from \"../map\";\r\nimport { candles } from \"../candles\";\r\nimport { tileSize } from \"../tiles/tileset\";\r\n\r\nwindow.addEventListener('keydown', (e) => {\r\n  switch (e.key) {\r\n    case 'w':\r\n      player.vel.y = -PLAYER_MAX_VEL;\r\n      break;\r\n    case 'a':\r\n      player.vel.x = -PLAYER_MAX_VEL;\r\n      break;\r\n    case 's':\r\n      player.vel.y = PLAYER_MAX_VEL;\r\n      break;\r\n    case 'd':\r\n      player.vel.x = PLAYER_MAX_VEL;\r\n      break;\r\n  }\r\n});\r\n\r\nwindow.addEventListener('keyup', (e) => {\r\n  switch (e.key) {\r\n    case 'w':\r\n      player.vel.y = 0;\r\n      break;\r\n    case 'a':\r\n      player.vel.x = 0;\r\n      break;\r\n    case 's':\r\n      player.vel.y = 0;\r\n      break;\r\n    case 'd':\r\n      player.vel.x = 0;\r\n      break;\r\n    case 'e':\r\n      pickUpItem();\r\n      break;\r\n  }\r\n});\r\n\r\nwindow.addEventListener('mousedown', (e) => {\r\n  player.fire()\r\n})\r\n\r\nconst pickupURL = new URL('../assets/pickup.mp3', import.meta.url)\r\nconst pickup = new Audio(pickupURL.toString());\r\npickup.load();\r\n\r\nconst pickUpItem = () => {\r\n  if (player.candle) {\r\n    delete player.candle;\r\n    pickup.play();\r\n    return\r\n  }\r\n\r\n  const roomCandles = candles.filter(candle => candle.room === room.current.id);\r\n  if (roomCandles.length < 1) return;\r\n\r\n  for (const candle of roomCandles) {\r\n    if (\r\n      Math.abs(player.x - candle.x) <= tileSize &&\r\n      Math.abs(player.y - candle.y) <= tileSize\r\n    ) {\r\n      player.candle = candle\r\n      pickup.play()\r\n      break;\r\n    }\r\n  }\r\n};","import { tileSize } from \"../tiles/tileset\";\r\nimport { drawCandle } from \"./drawCandle\";\r\nimport { updateCandle } from \"./updateCandle\";\r\n\r\nexport interface Candle {\r\n  x: number;\r\n  y: number;\r\n  debug: boolean;\r\n  room: string;\r\n  update: () => void;\r\n  draw: () => void;\r\n}\r\n\r\nconst candle1: Candle = {\r\n  x: 2 * tileSize,\r\n  y: 1 * tileSize,\r\n  debug: false,\r\n  room: 'room-0-0',\r\n  update: () => updateCandle(candle1),\r\n  draw: () => drawCandle(candle1)\r\n};\r\n\r\nconst candle2: Candle = {\r\n  x: 8 * tileSize,\r\n  y: 8 * tileSize,\r\n  debug: false,\r\n  room: 'room-0-6',\r\n  update: () => updateCandle(candle2),\r\n  draw: () => drawCandle(candle2)\r\n};\r\n\r\nconst candle3: Candle = {\r\n  x: 12 * tileSize,\r\n  y: 8 * tileSize,\r\n  debug: false,\r\n  room: 'room-7-4',\r\n  update: () => updateCandle(candle3),\r\n  draw: () => drawCandle(candle3)\r\n};\r\n\r\nconst candle4: Candle = {\r\n  x: 10 * tileSize,\r\n  y: 2 * tileSize,\r\n  debug: false,\r\n  room: 'room-6-0',\r\n  update: () => updateCandle(candle4),\r\n  draw: () => drawCandle(candle4)\r\n};\r\n\r\nconst candle5: Candle = {\r\n  x: 8 * tileSize,\r\n  y: 4 * tileSize,\r\n  debug: false,\r\n  room: 'room-4-6',\r\n  update: () => updateCandle(candle5),\r\n  draw: () => drawCandle(candle5)\r\n};\r\n\r\nexport const candles = [\r\n  candle1,\r\n  candle2,\r\n  candle3,\r\n  candle4,\r\n  candle5,\r\n];\r\n","import { Candle } from \".\";\r\nimport { getGraphics } from \"../graphics\";\r\nimport { columns, image, tileSize } from \"../tiles/tileset\";\r\nimport { tileTypes } from \"../tiles/types\";\r\n\r\nconst { ctx} = getGraphics()\r\n\r\nconst tileType = tileTypes.candle\r\n\r\nexport const drawCandle = (candle: Candle) => {\r\n  const index = tileType.graphicIndexes[tileType.currentFrame];\r\n  const column = Math.floor(index % columns);\r\n  const row = Math.floor(index / columns);\r\n\r\n  const xOffset = column * tileSize;\r\n  const yOffset = row * tileSize;\r\n\r\n  const x = candle.x - tileSize * 0.5;\r\n  const y = candle.y - tileSize * 0.5;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    tileSize,\r\n    tileSize\r\n  );\r\n\r\n  if (candle.debug) {\r\n    ctx.strokeStyle = '#FFFFFF';\r\n    ctx.lineWidth = 1 / 8;\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, tileSize, tileSize);\r\n    ctx.stroke();\r\n  }\r\n};","import { Candle } from \".\";\r\n\r\nexport const updateCandle = (candle: Candle) => {\r\n\r\n};","module.exports = new __parcel__URL__(\"pickup.b7a52900.mp3\").toString();","import { room } from \"../map\";\r\nimport { player } from \"../player\";\r\nimport { tileMap } from \"./types\";\r\n\r\nexport const updateTiles = () => {\r\n  room.current.tiles.forEach(tile => {\r\n    const isPlayerTile = (tile.x === player.tile.x && tile.y === player.tile.y);\r\n    tile.debug = isPlayerTile && player.debug;\r\n  });\r\n\r\n  tileMap.forEach(tile => {\r\n    if (!tile.isAnimated) return;\r\n\r\n    tile.acc++;\r\n\r\n    if (tile.acc >= tile.frameDuration) {\r\n      tile.acc = 0;\r\n      tile.currentFrame++;\r\n    }\r\n\r\n    if (tile.currentFrame >= tile.graphicIndexes.length) {\r\n      tile.currentFrame = 0;\r\n    }\r\n  });\r\n};"],"names":["ROOM_TYPE","GATEWAY_DIRECTION","$ddf07b7a7e40b7af$export$24193575da0c3ef5","$098e597b73ffd03e$export$9f0347034b4ca000","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$82cbb14ddd640a4b$export$5c452ff88e35e47d","Image","$3d2e95724a29d7a0$exports","$82cbb14ddd640a4b$var$imageUrl","src","$b538644da75a1e4a$var$canvas","document","getElementById","HTMLCanvasElement","width","height","$b538644da75a1e4a$var$ctx","getContext","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","imageSmoothingEnabled","scale","$b538644da75a1e4a$export$671da467341b3aba","canvas","ctx","$b538644da75a1e4a$export$a1c066623ac679d3","clearRect","moveTo","fillStyle","beginPath","rect","fill","$56639639c2c4b13a$var$ctx","$56639639c2c4b13a$export$5c452ff88e35e47d","$f95ebd5b198100ce$exports","$56639639c2c4b13a$var$imageUrl","$56639639c2c4b13a$var$acc","$56639639c2c4b13a$var$frame","$56639639c2c4b13a$export$853d2a5c417256da","demon","isActive","column","Math","floor","row","x","w","y","h","drawImage","round","$56639639c2c4b13a$var$drawHealthBar","debug","strokeStyle","lineWidth","stroke","lineTo","health","$472cf4e5fdf70e6f$export$848a8485c85036a9","dt","vel","$fda0042d7ace4273$export$615455393ee443ca","$4e7191e2caed83b6$exports","$f2635be855952ad7$var$hit","Audio","$f2635be855952ad7$var$hitURL","load","$f2635be855952ad7$export$f1fd645118ed8be8","update","draw","hit","play","alert","$497b2d40f0cf2220$var$ctx","$497b2d40f0cf2220$export$5c452ff88e35e47d","$d3449b3d5720187b$exports","$497b2d40f0cf2220$var$imageUrl","$497b2d40f0cf2220$var$acc","$497b2d40f0cf2220$var$frameIndex","$497b2d40f0cf2220$export$941190eab9b1306e","player","$497b2d40f0cf2220$export$c0fc52b0bcb1936a","projectile","arc","r","PI","$5807aec6125fc5b3$export$1ecca0613f5e56d2","MAIN","$93a8f9923f89eb07$var$layout","EMPTY","$a6554fe5ae9b6ad3$var$layout","$3eb093eb1af09297$var$ctx","$3eb093eb1af09297$export$5ed0c7ace38c6286","tile","index","type","graphicIndexes","currentFrame","$7ddd36fe8f2e1a51$export$7609c20295700ccc","tiles","forEach","$c522274b58f2dbd7$var$baseTile","isSolid","isAnimated","isInteractive","acc","frameDuration","$c522274b58f2dbd7$export$723aa6ff9f95b23e","$c522274b58f2dbd7$export$5a156de1a5d2f922","air","ground","wall","topLeft","top","topRight","left","right","bottomLeft","bottom","bottomRight","gateway","north","east","south","west","candle","$098e597b73ffd03e$export$bffedaedfad11873","input","gateways","arr","split","map","line","char","push","find","dir","target","$8ea1e13aabce4ae5$var$roomTypeMap","$8ea1e13aabce4ae5$export$b3219800bda33a1f","$8ea1e13aabce4ae5$var$mapItems","$8ea1e13aabce4ae5$export$871de8747c9eaa88","item","adjacentRooms","NORTH","EAST","SOUTH","WEST","reduce","roomCoords","layout","room","$8ea1e13aabce4ae5$export$f9d3fff8c23da278","current","$29061d6eec20e354$export$116e5f7d3f4c5392","doorTile","nx","ny","filter","$29061d6eec20e354$export$65b23b1dfb99f88a","dvx","dvy","magnitude","sqrt","$fda0042d7ace4273$export$c25853900383112d","fire","$fda0042d7ace4273$var$fireProjectile","$1e7d786d10c0e939$exports","$fda0042d7ace4273$var$bling","$fda0042d7ace4273$var$mp3URL","pause","uvx","uvy","$f8dab26eb8b17592$var$ctx","$f8dab26eb8b17592$var$tileType","$f8dab26eb8b17592$export$c1384d250b581fb0","$bbf478b8138cf072$export$2d8bb87b05f43b44","$4a3bf1a68fc18b3d$var$candle1","$4a3bf1a68fc18b3d$var$candle2","$4a3bf1a68fc18b3d$var$candle3","$4a3bf1a68fc18b3d$var$candle4","$4a3bf1a68fc18b3d$var$candle5","$4a3bf1a68fc18b3d$export$84278b8886d16bee","window","addEventListener","e","key","$ad9ff36f4afed11d$var$pickUpItem","$ef1e366503a5d8e0$exports","$ad9ff36f4afed11d$var$pickup","$ad9ff36f4afed11d$var$pickupURL","roomCandles","abs","$b1dc5b05612898eb$export$82127d6622dd9d9f","isPlayerTile","$ad2bcec7a0192558$var$ctx","$ad2bcec7a0192558$var$update","$ad2bcec7a0192558$var$spawnDemon","$ad2bcec7a0192558$var$render","$ad2bcec7a0192558$var$lastTimestamp","performance","now","$ad2bcec7a0192558$var$gameloop","timestamp","requestAnimationFrame","$ad2bcec7a0192558$var$altarCoords","$ad2bcec7a0192558$var$spawnSound","$ad2bcec7a0192558$var$spawnSoundURL","some"],"version":3,"file":"index.a6fc4938.js.map"}