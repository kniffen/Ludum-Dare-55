{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-f74596b5c40ab1b2.js","src/main.ts","src/graphics/index.ts","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/tiles/tileset.ts","node_modules/@parcel/runtime-js/lib/runtime-dcc5257eb46665a8.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/player/index.ts","src/player/draw.ts","node_modules/@parcel/runtime-js/lib/runtime-ff94fb5b4c5581cb.js","src/player/updatePlayer.ts","src/map/index.ts","src/rooms/index.ts","src/rooms/layouts/index.ts","src/rooms/layouts/main.ts","src/rooms/layouts/empty.ts","src/rooms/utils/drawRoom.ts","src/tiles/drawTile.ts","src/rooms/utils/parseRoomLayout.ts","src/tiles/types.ts","src/demon/demon.ts","src/demon/drawDemon.ts","node_modules/@parcel/runtime-js/lib/runtime-2b8ac72ffe5559e6.js","src/demon/updateDemon.ts","node_modules/@parcel/runtime-js/lib/runtime-0ee8aec20f92117f.js","node_modules/@parcel/runtime-js/lib/runtime-8b2db34c8d556356.js","src/controls/index.ts","src/candles/index.ts","src/candles/drawCandle.ts","src/candles/updateCandle.ts","node_modules/@parcel/runtime-js/lib/runtime-e50aab455dd97376.js","src/tiles/updateTiles.ts"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"7dd44675b7a05eb9\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import { clearCanvas } from \"./graphics\";\r\nimport { player } from './player';\r\nimport './controls';\r\nimport { room } from \"./map\";\r\nimport { updateTiles } from \"./tiles/updateTiles\";\r\nimport { candles } from \"./candles\";\r\nimport { demon } from \"./demon/demon\";\r\nimport { getGraphics } from \"./graphics\";\r\n\r\nconst {ctx} = getGraphics()\r\n\r\nconst update = (dt: number) => {\r\n  updateTiles();\r\n  player.update(dt);\r\n  demon.update(dt);\r\n  candles.forEach(candle => candle.update());\r\n  spawnDemon()\r\n};\r\n\r\nconst render = (dt: number) => {\r\n  clearCanvas();\r\n  room.current.draw();\r\n  player.draw(dt);\r\n  candles.forEach(candle => room.current.id === candle.room && candle.draw());\r\n  demon.draw();\r\n\r\n  // Debug altar bounds\r\n  // ctx.beginPath();\r\n  // ctx.rect(altarCoords.x, altarCoords.y, 8*3,8*3)\r\n  // ctx.stroke()\r\n};\r\n\r\nlet lastTimestamp = performance.now();\r\nconst gameloop = () => {\r\n  const timestamp = performance.now();\r\n  const dt = (timestamp - lastTimestamp) / 1000;\r\n  lastTimestamp = timestamp;\r\n\r\n  update(dt);\r\n  render(dt);\r\n\r\n  window.requestAnimationFrame(gameloop);\r\n};\r\n\r\nwindow.requestAnimationFrame(gameloop)\r\n\r\nconst altarCoords = {\r\n  x: 8*6,\r\n  y: 8*4,\r\n}\r\n\r\nconst spawnSoundURL = new URL('./assets/hit.mp3', import.meta.url)\r\nconst spawnSound = new Audio(spawnSoundURL.toString());\r\nspawnSound.load()\r\n\r\nconst spawnDemon = () => {\r\n  if (demon.isActive) return;\r\n  if (player.candle) return\r\n  if (candles.some(candle => candle.room !== 'room-3-3')) return;\r\n\r\n  // Quick and dirty solution so check if all candles are incide the altar\r\n  // TODO: Improve by getting altar coords from room data\r\n  for (const candle of candles) {\r\n    if (candle.x < altarCoords.x) return;\r\n    if (candle.x > altarCoords.x + 8*3) return;\r\n    if (candle.y < altarCoords.y) return;\r\n    if (candle.y > altarCoords.y + 8*3) return;\r\n  }\r\n\r\n  demon.isActive = true\r\n  spawnSound.play();\r\n}","import { tileSize } from \"../tiles/tileset\";\r\n\r\nconst canvas = document.getElementById('canvas');\r\n\r\nif (!canvas || !(canvas instanceof HTMLCanvasElement)) {\r\n  throw new Error('Missing canvas');\r\n}\r\n\r\nexport const SCALE = 8;\r\nexport const COLUMNS = 15;\r\nexport const ROWS = 11;\r\ncanvas.width =  Math.floor(tileSize * COLUMNS * SCALE);\r\ncanvas.height = Math.floor(tileSize * ROWS * SCALE);\r\n\r\nconst ctx = canvas.getContext('2d');\r\n\r\nif (!ctx) {\r\n  throw new Error('Missing context');\r\n}\r\n\r\n// @ts-ignore\r\nctx.webkitImageSmoothingEnabled = false;\r\n// @ts-ignore\r\nctx.mozImageSmoothingEnabled = false;\r\nctx.imageSmoothingEnabled = false;\r\nctx.scale(SCALE, SCALE);\r\n\r\nexport const getGraphics = () => ({\r\n  canvas,\r\n  ctx\r\n});\r\n\r\nexport const clearCanvas = () => {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  ctx.moveTo(0, 0);\r\n  ctx.fillStyle = '#191B1A';\r\n  ctx.beginPath();\r\n  ctx.rect(0, 0, canvas.width, canvas.height);\r\n  ctx.fill();\r\n};","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","export const image = new Image();\r\nexport const tileSize = 8;\r\nexport const columns = 128 / tileSize;\r\nexport const rows = 128 / tileSize;\r\n\r\nconst imageUrl = new URL(\r\n  '../assets/tileset.png',\r\n  import.meta.url\r\n);\r\n\r\nimage.src = imageUrl.toString();\r\n\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('aNMIV') + \"tileset.d88896e7.png\" + \"?\" + Date.now();","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import { Candle } from '../candles';\r\nimport { demon } from '../demon/demon';\r\nimport { drawPlayer, drawProjectile } from './draw';\r\nimport { updatePlayer, updateProjectile } from './updatePlayer';\r\n\r\nexport const PLAYER_MAX_VEL = 50;\r\n\r\nexport interface Player {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  vel: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n  tile: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n  debug: boolean;\r\n  candle?: Candle;\r\n  update: (dt: number) => void;\r\n  draw: (dt: number) => void;\r\n  fire: () => void\r\n}\r\n\r\nexport const player: Player = {\r\n  x: 20,\r\n  y: 30,\r\n  w: 8,\r\n  h: 8,\r\n  vel: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  tile: {\r\n    x: 0,\r\n    y: 0,\r\n  },\r\n  debug: false,\r\n  update: (dt) => {\r\n    updatePlayer(player, dt);\r\n    updateProjectile(projectile, dt);\r\n  },\r\n  draw: (dt) => {\r\n    drawPlayer(player, dt);\r\n    drawProjectile(projectile, dt)\r\n  },\r\n  fire: () => fireProjectile()\r\n};\r\n\r\nexport interface Projectile {\r\n  r: number,\r\n  x: number,\r\n  y: number,\r\n  vel: {x: number, y: number},\r\n  isActive: boolean;\r\n}\r\n\r\nexport const projectile: Projectile = {\r\n  r: 1,\r\n  x: player.x,\r\n  y: player.y,\r\n  vel: {x: 0, y: 0},\r\n  isActive: false,\r\n}\r\n\r\nconst mp3URL = new URL('../assets/bling.mp3', import.meta.url)\r\nconst bling = new Audio(mp3URL.toString());\r\nbling.load()\r\n\r\n\r\nexport const PROJECTILE_SPEED = 100\r\nconst fireProjectile = () => {\r\n  if (projectile.isActive || !demon.isActive) return;\r\n  bling.pause();\r\n  bling.load();\r\n  bling.play();\r\n\r\n  projectile.x = player.x\r\n  projectile.y = player.y\r\n\r\n  // Directional vector\r\n  const dvx = demon.x - player.x;\r\n  const dvy = demon.y - player.y;\r\n\r\n  const magnitude = Math.sqrt(dvx * dvx + dvy * dvy);\r\n  // unit vector\r\n  const uvx = dvx / magnitude;\r\n  const uvy = dvy / magnitude;\r\n\r\n  projectile.vel.x = uvx * PROJECTILE_SPEED;\r\n  projectile.vel.y = uvy * PROJECTILE_SPEED;\r\n  projectile.isActive = true\r\n}","import { getGraphics } from '../graphics';\r\nimport { Player, Projectile } from \".\";\r\n\r\nconst { ctx } = getGraphics();\r\nexport const image = new Image();\r\nexport const tileSize = 8;\r\nconst columns = 64 / tileSize;\r\n\r\nconst imageUrl = new URL('../assets/player.png', import.meta.url);\r\nimage.src = imageUrl.toString();\r\n\r\nconst frameLength = 30;\r\nlet acc = 0;\r\nlet frameIndex = 0;\r\n\r\nexport const drawPlayer = (player: Player, dt: number) => {\r\n  acc++;\r\n\r\n  if (acc >= frameLength) {\r\n    frameIndex++;\r\n    acc = 0;\r\n  }\r\n\r\n  if (frameIndex > 2) {\r\n    frameIndex = 0;\r\n  }\r\n\r\n  const column = Math.floor(frameIndex % columns);\r\n  const row = Math.floor(frameIndex / columns);\r\n\r\n  const xOffset = Math.floor(column * tileSize);\r\n  const yOffset = Math.floor(row * tileSize);\r\n\r\n  const x = player.x - player.w * 0.5;\r\n  const y = player.y - player.h * 0.5;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    tileSize,\r\n    tileSize\r\n  );\r\n\r\n  if (player.debug) {\r\n    ctx.strokeStyle = '#E00000';\r\n    ctx.lineWidth = 0.25;\r\n    ctx.fillStyle = '#FFFFFF';\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, player.w, player.h);\r\n    ctx.stroke();\r\n  }\r\n};\r\n\r\nexport const drawProjectile = (projectile: Projectile, dt: number) => {\r\n  if (!projectile.isActive) return;\r\n\r\n  ctx.fillStyle = '#99c9b3'\r\n  ctx.beginPath();\r\n  ctx.arc(projectile.x, projectile.y, projectile.r, 0, 2 * Math.PI);\r\n  ctx.fill()\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('aNMIV') + \"player.3b024644.png\" + \"?\" + Date.now();","import { Player, Projectile } from \".\";\r\nimport { demon } from \"../demon/demon\";\r\nimport { map, room } from \"../map\";\r\nimport { Room } from \"../rooms/types\";\r\nimport { tileSize } from \"./draw\";\r\n\r\nexport const updatePlayer = (player: Player, dt: number) => {\r\n  const doorTile = room.current.tiles.find(tile => !!tile.gateway && tile.x === player.tile.x && tile.y === player.tile.y)\r\n  if (doorTile?.gateway) {\r\n    room.current = map.get(doorTile.gateway)?.room as Room;\r\n    player.x = (doorTile.target?.x || 0) * tileSize;\r\n    player.y = (doorTile.target?.y || 0) * tileSize;\r\n  }\r\n\r\n  let nx = player.x + player.vel.x * dt;\r\n  let ny = player.y + player.vel.y * dt;\r\n\r\n  const solidTiles = room.current.tiles.filter(tile => tile.type.isSolid) || []\r\n\r\n  for (const tile of solidTiles) {\r\n    const x = tile.x * tileSize;\r\n    const y = tile.y * tileSize;\r\n    if (\r\n      nx > x && nx < x + tileSize &&\r\n      ny > y && ny < y + tileSize\r\n    ) {\r\n      nx = player.x\r\n      ny = player.y\r\n    }\r\n  }\r\n\r\n  player.x = nx;\r\n  player.y = ny;\r\n\r\n  // Get player tile\r\n  player.tile.x = Math.floor(player.x / tileSize);\r\n  player.tile.y = Math.floor(player.y / tileSize);\r\n\r\n  if (player.candle) {\r\n    player.candle.x = player.x;\r\n    player.candle.y = player.y;\r\n    player.candle.room = room.current.id;\r\n  }\r\n};\r\n\r\nexport const updateProjectile = (projectile: Projectile, dt: number) => {\r\n  projectile.x += projectile.vel.x * dt;\r\n  projectile.y += projectile.vel.y * dt;\r\n\r\n  const dvx = demon.x - projectile.x;\r\n  const dvy = demon.y - projectile.y;\r\n  const magnitude = Math.sqrt(dvx * dvx + dvy * dvy);\r\n\r\n  if (projectile.isActive && magnitude < demon.w/2) {\r\n    demon.hit()\r\n    projectile.isActive = false\r\n  }\r\n}\r\n","import { COLUMNS, ROWS } from \"../graphics\";\r\nimport { ROOM_TYPE } from \"../rooms\";\r\nimport { layouts } from \"../rooms/layouts\";\r\nimport { Room } from \"../rooms/types\";\r\nimport { drawRoom } from \"../rooms/utils/drawRoom\";\r\nimport { GATEWAY_DIRECTION, Gateway, parseRoomLayout } from \"../rooms/utils/parseRoomLayout\";\r\n\r\ninterface MapItem {\r\n  x: number,\r\n  y: number,\r\n  id: string,\r\n  type: ROOM_TYPE,\r\n}\r\n\r\ninterface MapRoom {\r\n  id: string;\r\n  type: ROOM_TYPE,\r\n  room: Room,\r\n  north?: string;\r\n  east?: string;\r\n  south?: string;\r\n  west?: string;\r\n}\r\n\r\n// TODO: randomly generate map layout at some point...\r\n\r\n// # = Empty room (with horrors you can't imagine... maybe)\r\n// A = Altar\r\n// 1 = Candle 1\r\n// 2 = Candle 2\r\n// 3 = Candle 3\r\n// 4 = Candle 4\r\n// 5 = Candle 5\r\n\r\nconst roomTypeMap = new Map<string, ROOM_TYPE>([\r\n  ['#', ROOM_TYPE.EMPTY],\r\n  ['A', ROOM_TYPE.MAIN],\r\n  ['1', ROOM_TYPE.EMPTY],\r\n  ['2', ROOM_TYPE.EMPTY],\r\n  ['3', ROOM_TYPE.EMPTY],\r\n  ['4', ROOM_TYPE.EMPTY],\r\n  ['5', ROOM_TYPE.EMPTY],\r\n]);\r\n\r\nexport const layout = [\r\n  ['1', ' ', ' ', ' ', ' ', ' ', '4', ' ',],\r\n  ['#', '#', '#', '#', '#', '#', '#', '#',],\r\n  [' ', '#', ' ', '#', ' ', ' ', ' ', ' ',],\r\n  [' ', '#', '#', 'A', '#', '#', '#', ' ',],\r\n  [' ', '#', ' ', '#', ' ', ' ', '#', '3',],\r\n  [' ', '#', '#', '#', ' ', '#', '#', ' ',],\r\n  ['2', '#', ' ', '#', '5', ' ', ' ', ' ',],\r\n];\r\nconst rows = layout.length;\r\nconst columns = layout[0].length;\r\n\r\nconst mapItems = new Map<string, MapItem>();\r\n\r\nfor (let y = 0; y < layout.length; y++) {\r\n  const row = layout[y];\r\n\r\n  for (let x = 0; x < row.length; x++) {\r\n    const char = row[x];\r\n\r\n    if (!char || char === ' ') continue;\r\n\r\n    const id = `room-${x}-${y}`;\r\n    const type = roomTypeMap.get(char) || ROOM_TYPE.EMPTY;\r\n\r\n    mapItems.set(id, {\r\n      x,\r\n      y,\r\n      id,\r\n      type\r\n    });\r\n  }\r\n}\r\n\r\nexport const map = new Map<string, MapRoom>();\r\n\r\nmapItems.forEach(item => {\r\n  const adjacentRooms = [\r\n    {x: item.x,     y: item.y - 1, dir: GATEWAY_DIRECTION.NORTH},\r\n    {x: item.x + 1, y: item.y,     dir: GATEWAY_DIRECTION.EAST},\r\n    {x: item.x,     y: item.y + 1, dir: GATEWAY_DIRECTION.SOUTH},\r\n    {x: item.x - 1, y: item.y,     dir: GATEWAY_DIRECTION.WEST},\r\n  ]\r\n\r\n  const gateways = adjacentRooms.reduce<Gateway[]>((gateways, roomCoords) => {\r\n    const id = mapItems.get(`room-${roomCoords.x}-${roomCoords.y}`)?.id\r\n    let x = 0\r\n    let y = 0\r\n\r\n    switch (roomCoords.dir) {\r\n      case GATEWAY_DIRECTION.NORTH:\r\n        x = Math.floor(COLUMNS / 2)\r\n        break\r\n      case GATEWAY_DIRECTION.EAST:\r\n        x = COLUMNS-1\r\n        y = Math.floor(ROWS / 2)\r\n        break\r\n      case GATEWAY_DIRECTION.SOUTH:\r\n        x = Math.floor(COLUMNS / 2)\r\n        y = ROWS - 1\r\n        break\r\n      case GATEWAY_DIRECTION.WEST:\r\n        y = Math.floor(ROWS / 2)\r\n        break\r\n    }\r\n\r\n    return id ? [...gateways, {x, y, id, dir: roomCoords.dir}] : gateways\r\n  }, [])\r\n\r\n  const layout = layouts.get(item.type);\r\n\r\n  if (!layout) return;\r\n\r\n  const room: Room = {\r\n    id: item.id,\r\n    tiles: parseRoomLayout(layout, gateways),\r\n    draw: () => drawRoom(room.tiles)\r\n  };\r\n\r\n  map.set(item.id, {\r\n    ...item,\r\n    room\r\n  });\r\n});\r\n\r\nconst initialRoom = map.get('room-3-3')?.room as Room\r\n\r\nexport const room = {\r\n  current:  initialRoom\r\n};\r\n","export enum ROOM_TYPE {\r\n  EMPTY,\r\n  MAIN,\r\n  CANDLE_ROOM_1,\r\n  CANDLE_ROOM_2,\r\n  CANDLE_ROOM_3,\r\n  CANDLE_ROOM_4,\r\n  CANDLE_ROOM_5,\r\n};\r\n","import { ROOM_TYPE } from '..';\r\nimport { main } from './main';\r\nimport { empty } from './empty';\r\n\r\nexport const layouts = new Map<ROOM_TYPE, string>([\r\n  [ROOM_TYPE.MAIN, main],\r\n  [ROOM_TYPE.EMPTY, empty],\r\n]);","const layout = [\r\n  'Q#############E',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000012300000R',\r\n  'L0000045600000R',\r\n  'L0000078900000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'TBBBBBBBBBBBBBY',\r\n];\r\n\r\nexport const main = layout.join('\\n');\r\n","const layout = [\r\n  'Q#############E',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'L0000000000000R',\r\n  'TBBBBBBBBBBBBBY',\r\n];\r\n\r\nexport const empty = layout.join('\\n');\r\n","import { drawTile } from \"../../tiles/drawTile\";\r\nimport { Tile } from \"../types\";\r\n\r\nexport const drawRoom = (tiles: Tile[]) => {\r\n  tiles.forEach(drawTile);\r\n};","import { getGraphics } from \"../graphics\";\r\nimport { Tile } from \"../rooms/types\";\r\nimport { columns, image, tileSize } from \"./tileset\";\r\n\r\nconst { ctx } = getGraphics();\r\n\r\nexport const drawTile = (tile: Tile) => {\r\n  const index = tile.type.graphicIndexes[tile.type.currentFrame];\r\n  const column = Math.floor(index % columns);\r\n  const row = Math.floor(index / columns);\r\n\r\n  const xOffset = column * tileSize;\r\n  const yOffset = row * tileSize;\r\n\r\n  const x = tile.x * tileSize;\r\n  const y = tile.y * tileSize;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    tileSize,\r\n    tileSize\r\n  );\r\n\r\n  if (tile.debug) {\r\n    ctx.strokeStyle = '#FFFFFF';\r\n    ctx.lineWidth = 1 / 8;\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, tileSize, tileSize);\r\n    ctx.stroke();\r\n  }\r\n};","import { COLUMNS, ROWS } from \"../../graphics\";\r\nimport { tileMap, tileTypes } from \"../../tiles/types\";\r\nimport { Tile } from \"../types\";\r\nimport { drawRoom } from \"./drawRoom\";\r\n\r\nexport enum GATEWAY_DIRECTION {\r\n  NORTH,\r\n  EAST,\r\n  SOUTH,\r\n  WEST\r\n}\r\n\r\nexport interface Gateway {\r\n  x: number,\r\n  y: number,\r\n  id: string;\r\n  dir: GATEWAY_DIRECTION\r\n}\r\n\r\nexport const parseRoomLayout = (\r\n  input: string,\r\n  gateways: Gateway[]\r\n): Tile[] => {\r\n  const arr = input.split('\\n').map(line => line.split(''));\r\n  const tiles: Tile[] = [];\r\n\r\n  for (let y = 0; y < arr.length; y++) {\r\n    const row = arr[y];\r\n\r\n    for (let x = 0; x < row.length; x++) {\r\n      const char = row[x];\r\n      const tile: Tile = {\r\n        x,\r\n        y,\r\n        debug: false,\r\n        type: tileMap.get(char) || tileTypes.air\r\n      };\r\n\r\n      tiles.push(tile);\r\n    }\r\n  }\r\n\r\n  gateways.forEach((gateway) => {\r\n    const tile = tiles.find(tile => tile.x === gateway.x && tile.y === gateway.y);\r\n\r\n    if (!tile) return;\r\n\r\n    tile.debug = true;\r\n    tile.gateway = gateway.id;\r\n\r\n    switch (gateway.dir) {\r\n      case GATEWAY_DIRECTION.NORTH:\r\n        tile.target = {x: tile.x, y: ROWS - 2}\r\n        tile.type = tileTypes.gateway.north\r\n        break\r\n      case GATEWAY_DIRECTION.EAST:\r\n        tile.target = {x: 1, y: tile.y}\r\n        tile.type = tileTypes.gateway.east\r\n        break\r\n      case GATEWAY_DIRECTION.SOUTH:\r\n        tile.target = {x: tile.x, y: 1}\r\n        tile.type = tileTypes.gateway.south\r\n        break\r\n      case GATEWAY_DIRECTION.WEST:\r\n        tile.target = {x: COLUMNS - 2, y: tile.y}\r\n        tile.type = tileTypes.gateway.west\r\n        break\r\n    }\r\n  });\r\n\r\n  return tiles;\r\n};","import { columns } from \"./tileset\";\r\n\r\nexport interface TileType {\r\n  isSolid: boolean;\r\n  isAnimated: boolean;\r\n  isInteractive: boolean;\r\n  acc: number,\r\n  currentFrame: number;\r\n  frameDuration: number;\r\n  graphicIndexes: number[];\r\n}\r\n\r\nconst baseTile: TileType = {\r\n  isSolid: false,\r\n  isAnimated: false,\r\n  isInteractive: false,\r\n  acc: 0,\r\n  currentFrame: 0,\r\n  frameDuration: 0,\r\n  graphicIndexes: [0]\r\n};\r\n\r\nexport const tileMap = new Map<string, TileType>();\r\n\r\nexport const tileTypes = {\r\n  air: { ...baseTile },\r\n  ground: { ...baseTile, graphicIndexes: [columns * 2 + 2] },\r\n  wall: {\r\n    topLeft:     { ...baseTile, isSolid: true, graphicIndexes: [1] },\r\n    top:         { ...baseTile, isSolid: true, graphicIndexes: [2] },\r\n    topRight:    { ...baseTile, isSolid: true, graphicIndexes: [5] },\r\n    left:        { ...baseTile, isSolid: true, graphicIndexes: [columns * 1 + 1] },\r\n    right:       { ...baseTile, isSolid: true, graphicIndexes: [columns * 1 + 5] },\r\n    bottomLeft:  { ...baseTile, isSolid: true, graphicIndexes: [columns * 4 + 1] },\r\n    bottom:      { ...baseTile,  isSolid: true,  graphicIndexes: [columns * 4 + 2]},\r\n    bottomRight: { ...baseTile,  isSolid: true,  graphicIndexes: [columns * 4 + 5]}\r\n  },\r\n  gateway: {\r\n    north: {  ...baseTile,  isInteractive: true,  graphicIndexes: [3]},\r\n    east: {  ...baseTile,  isInteractive: true,  graphicIndexes: [columns * 2 + 5]},\r\n    south: {  ...baseTile,  isInteractive: true,  graphicIndexes: [columns * 4 + 3]},\r\n    west: {  ...baseTile,  isInteractive: true,  graphicIndexes: [columns * 2 + 1]},\r\n  },\r\n  candle: {\r\n    ...baseTile,\r\n    isAnimated: true,\r\n    isInteractive: true,\r\n    acc: 0,\r\n    currentFrame: 0,\r\n    frameDuration: 30,\r\n    graphicIndexes: [9, 10, 11, 12]\r\n  }\r\n};\r\n\r\n// General\r\ntileMap.set(' ', tileTypes.air);\r\ntileMap.set('0', tileTypes.ground);\r\n\r\n// Walls\r\ntileMap.set('Q', tileTypes.wall.topLeft);\r\ntileMap.set('#', tileTypes.wall.top);\r\ntileMap.set('E', tileTypes.wall.topRight);\r\ntileMap.set('R', tileTypes.wall.right);\r\ntileMap.set('L', tileTypes.wall.left);\r\ntileMap.set('T', tileTypes.wall.bottomLeft);\r\ntileMap.set('B', tileTypes.wall.bottom);\r\ntileMap.set('Y', tileTypes.wall.bottomRight);\r\n\r\n// Gateways\r\ntileMap.set('H', tileTypes.gateway.north);\r\ntileMap.set('J', tileTypes.gateway.east);\r\ntileMap.set('N', tileTypes.gateway.south);\r\ntileMap.set('M', tileTypes.gateway.west);\r\n\r\n// Candle\r\ntileMap.set('C', tileTypes.candle);\r\n\r\n// Alter tiles\r\ntileMap.set('1', { ...baseTile, graphicIndexes: [columns * 5] });\r\ntileMap.set('2', { ...baseTile, graphicIndexes: [columns * 5 + 1] });\r\ntileMap.set('3', { ...baseTile, graphicIndexes: [columns * 5 + 2] });\r\ntileMap.set('4', { ...baseTile, graphicIndexes: [columns * 6] });\r\ntileMap.set('5', { ...baseTile, graphicIndexes: [columns * 6 + 1] });\r\ntileMap.set('6', { ...baseTile, graphicIndexes: [columns * 6 + 2] });\r\ntileMap.set('7', { ...baseTile, graphicIndexes: [columns * 7] });\r\ntileMap.set('8', { ...baseTile, graphicIndexes: [columns * 7 + 1] });\r\ntileMap.set('9', { ...baseTile, graphicIndexes: [columns * 7 + 2] });","import { drawDemon } from \"./drawDemon\";\r\nimport { updateDemon } from \"./updateDemon\";\r\n\r\nconst hitURL = new URL('../assets/hit.mp3', import.meta.url)\r\nconst hit = new Audio(hitURL.toString());\r\nhit.load()\r\n\r\nexport interface Demon {\r\n  x: number;\r\n  y: number;\r\n  vel: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n  w: number;\r\n  h: number;\r\n  health: number;\r\n  debug: boolean;\r\n  isActive: boolean;\r\n  update: (dt: number) => void;\r\n  draw: () => void;\r\n  hit: () => void;\r\n}\r\n\r\nexport const demon: Demon = {\r\n  x: 70,\r\n  y: 40,\r\n  vel: {x: 0, y: 0},\r\n  w: 8 * 3,\r\n  h: 8 * 3,\r\n  health: 1,\r\n  debug: false,\r\n  isActive: false,\r\n  update: (dt) => updateDemon(demon, dt),\r\n  draw: () => drawDemon(demon),\r\n  hit: () => {\r\n    demon.health -= 0.01;\r\n    hit.play();\r\n\r\n    if (demon.health <= 0) {\r\n      alert('Game over!');\r\n      demon.health = 1;\r\n      demon.isActive = false;\r\n    }\r\n\r\n\r\n  }\r\n}","import { getGraphics } from \"../graphics\"\r\nimport { Demon } from \"./demon\";\r\n\r\nconst { ctx } = getGraphics();\r\nexport const image = new Image();\r\nexport const tileSize = 8 * 3;\r\nconst frames = 5\r\n\r\nconst imageUrl = new URL('../assets/demon.png', import.meta.url);\r\nimage.src = imageUrl.toString();\r\n\r\nconst frameLength = 20\r\nlet acc = 0\r\nlet frame = 0\r\n\r\nexport const drawDemon = (demon: Demon) => {\r\n  if (!demon.isActive) return;\r\n\r\n  acc++;\r\n\r\n  if (acc >= frameLength) {\r\n    frame++;\r\n    acc = 0;\r\n  }\r\n\r\n  if (frame >= frames) {\r\n    frame = 0;\r\n  }\r\n\r\n  const column = Math.floor(frame % frames);\r\n  const row = Math.floor(frame / frames);\r\n\r\n  const xOffset = Math.floor(column * tileSize);\r\n  const yOffset = Math.round(row * tileSize);\r\n\r\n  const x = demon.x - demon.w * 0.5;\r\n  const y = demon.y - demon.h * 0.5;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    demon.w,\r\n    demon.h\r\n  );\r\n\r\n  drawHealthBar(demon)\r\n\r\n  if (demon.debug) {\r\n    ctx.strokeStyle = '#FFFFFF';\r\n    ctx.lineWidth = 1 / 8;\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, demon.w, demon.h);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(x, y)\r\n    ctx.lineTo(x + demon.w, y + demon.h)\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + demon.w, y)\r\n    ctx.lineTo(x, y + demon.h)\r\n    ctx.stroke();\r\n  }\r\n}\r\n\r\nconst drawHealthBar = (demon: Demon) => {\r\n  const x = 1\r\n  const y = 1\r\n  const w = 50\r\n  const h = 5\r\n  const margin = 0.5\r\n\r\n  // Health bar\r\n  ctx.beginPath();\r\n  ctx.fillStyle = '#191b1a'\r\n  ctx.rect(x, y, w, h)\r\n  ctx.fill()\r\n  ctx.beginPath();\r\n  ctx.fillStyle = '#294257'\r\n  ctx.rect(x + margin, y + margin, w - margin * 2, h - margin * 2)\r\n  ctx.fill()\r\n  ctx.beginPath();\r\n  ctx.fillStyle = '#99c9b3'\r\n  ctx.rect(x + margin, y + margin, (w - margin * 2) * demon.health, h - margin * 2)\r\n  ctx.fill()\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('aNMIV') + \"demon.00ecca59.png\" + \"?\" + Date.now();","import { player } from \"../player\"\r\nimport { Demon } from \"./demon\";\r\n\r\nconst DEMON_MAX_VEL = 15\r\n\r\nexport const updateDemon = (demon: Demon, dt: number) => {\r\n  if (!demon.isActive) return;\r\n\r\n  demon.vel.x = demon.x < player.x ? DEMON_MAX_VEL : -DEMON_MAX_VEL;\r\n  demon.vel.y = demon.y < player.y ? DEMON_MAX_VEL : -DEMON_MAX_VEL;\r\n\r\n  demon.x += demon.vel.x * dt;\r\n  demon.y += demon.vel.y * dt;\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('aNMIV') + \"hit.9357292b.mp3\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('aNMIV') + \"bling.4503d323.mp3\" + \"?\" + Date.now();","import { PLAYER_MAX_VEL, player } from \"../player\";\r\nimport { room } from \"../map\";\r\nimport { candles } from \"../candles\";\r\nimport { tileSize } from \"../tiles/tileset\";\r\n\r\nwindow.addEventListener('keydown', (e) => {\r\n  switch (e.key) {\r\n    case 'w':\r\n      player.vel.y = -PLAYER_MAX_VEL;\r\n      break;\r\n    case 'a':\r\n      player.vel.x = -PLAYER_MAX_VEL;\r\n      break;\r\n    case 's':\r\n      player.vel.y = PLAYER_MAX_VEL;\r\n      break;\r\n    case 'd':\r\n      player.vel.x = PLAYER_MAX_VEL;\r\n      break;\r\n  }\r\n});\r\n\r\nwindow.addEventListener('keyup', (e) => {\r\n  switch (e.key) {\r\n    case 'w':\r\n      player.vel.y = 0;\r\n      break;\r\n    case 'a':\r\n      player.vel.x = 0;\r\n      break;\r\n    case 's':\r\n      player.vel.y = 0;\r\n      break;\r\n    case 'd':\r\n      player.vel.x = 0;\r\n      break;\r\n    case 'e':\r\n      pickUpItem();\r\n      break;\r\n  }\r\n});\r\n\r\nwindow.addEventListener('mousedown', (e) => {\r\n  player.fire()\r\n})\r\n\r\nconst pickupURL = new URL('../assets/pickup.mp3', import.meta.url)\r\nconst pickup = new Audio(pickupURL.toString());\r\npickup.load();\r\n\r\nconst pickUpItem = () => {\r\n  if (player.candle) {\r\n    delete player.candle;\r\n    pickup.play();\r\n    return\r\n  }\r\n\r\n  const roomCandles = candles.filter(candle => candle.room === room.current.id);\r\n  if (roomCandles.length < 1) return;\r\n\r\n  for (const candle of roomCandles) {\r\n    if (\r\n      Math.abs(player.x - candle.x) <= tileSize &&\r\n      Math.abs(player.y - candle.y) <= tileSize\r\n    ) {\r\n      player.candle = candle\r\n      pickup.play()\r\n      break;\r\n    }\r\n  }\r\n};","import { tileSize } from \"../tiles/tileset\";\r\nimport { drawCandle } from \"./drawCandle\";\r\nimport { updateCandle } from \"./updateCandle\";\r\n\r\nexport interface Candle {\r\n  x: number;\r\n  y: number;\r\n  debug: boolean;\r\n  room: string;\r\n  update: () => void;\r\n  draw: () => void;\r\n}\r\n\r\nconst candle1: Candle = {\r\n  x: 2 * tileSize,\r\n  y: 1 * tileSize,\r\n  debug: false,\r\n  room: 'room-0-0',\r\n  update: () => updateCandle(candle1),\r\n  draw: () => drawCandle(candle1)\r\n};\r\n\r\nconst candle2: Candle = {\r\n  x: 8 * tileSize,\r\n  y: 8 * tileSize,\r\n  debug: false,\r\n  room: 'room-0-6',\r\n  update: () => updateCandle(candle2),\r\n  draw: () => drawCandle(candle2)\r\n};\r\n\r\nconst candle3: Candle = {\r\n  x: 12 * tileSize,\r\n  y: 8 * tileSize,\r\n  debug: false,\r\n  room: 'room-7-4',\r\n  update: () => updateCandle(candle3),\r\n  draw: () => drawCandle(candle3)\r\n};\r\n\r\nconst candle4: Candle = {\r\n  x: 10 * tileSize,\r\n  y: 2 * tileSize,\r\n  debug: false,\r\n  room: 'room-6-0',\r\n  update: () => updateCandle(candle4),\r\n  draw: () => drawCandle(candle4)\r\n};\r\n\r\nconst candle5: Candle = {\r\n  x: 8 * tileSize,\r\n  y: 4 * tileSize,\r\n  debug: false,\r\n  room: 'room-4-6',\r\n  update: () => updateCandle(candle5),\r\n  draw: () => drawCandle(candle5)\r\n};\r\n\r\nexport const candles = [\r\n  candle1,\r\n  candle2,\r\n  candle3,\r\n  candle4,\r\n  candle5,\r\n];\r\n","import { Candle } from \".\";\r\nimport { getGraphics } from \"../graphics\";\r\nimport { columns, image, tileSize } from \"../tiles/tileset\";\r\nimport { tileTypes } from \"../tiles/types\";\r\n\r\nconst { ctx} = getGraphics()\r\n\r\nconst tileType = tileTypes.candle\r\n\r\nexport const drawCandle = (candle: Candle) => {\r\n  const index = tileType.graphicIndexes[tileType.currentFrame];\r\n  const column = Math.floor(index % columns);\r\n  const row = Math.floor(index / columns);\r\n\r\n  const xOffset = column * tileSize;\r\n  const yOffset = row * tileSize;\r\n\r\n  const x = candle.x - tileSize * 0.5;\r\n  const y = candle.y - tileSize * 0.5;\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    xOffset,\r\n    yOffset,\r\n    tileSize,\r\n    tileSize,\r\n    x,\r\n    y,\r\n    tileSize,\r\n    tileSize\r\n  );\r\n\r\n  if (candle.debug) {\r\n    ctx.strokeStyle = '#FFFFFF';\r\n    ctx.lineWidth = 1 / 8;\r\n    ctx.beginPath();\r\n    ctx.rect(x, y, tileSize, tileSize);\r\n    ctx.stroke();\r\n  }\r\n};","import { Candle } from \".\";\r\n\r\nexport const updateCandle = (candle: Candle) => {\r\n\r\n};","module.exports = require('./helpers/bundle-url').getBundleURL('aNMIV') + \"pickup.ca1cd095.mp3\" + \"?\" + Date.now();","import { room } from \"../map\";\r\nimport { player } from \"../player\";\r\nimport { tileMap } from \"./types\";\r\n\r\nexport const updateTiles = () => {\r\n  room.current.tiles.forEach(tile => {\r\n    const isPlayerTile = (tile.x === player.tile.x && tile.y === player.tile.y);\r\n    tile.debug = isPlayerTile && player.debug;\r\n  });\r\n\r\n  tileMap.forEach(tile => {\r\n    if (!tile.isAnimated) return;\r\n\r\n    tile.acc++;\r\n\r\n    if (tile.acc >= tile.frameDuration) {\r\n      tile.acc = 0;\r\n      tile.currentFrame++;\r\n    }\r\n\r\n    if (tile.currentFrame >= tile.graphicIndexes.length) {\r\n      tile.currentFrame = 0;\r\n    }\r\n  });\r\n};"],"names":[],"version":3,"file":"index.b7a05eb9.js.map","sourceRoot":"/__parcel_source_root/"}